<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <meta name="baidu-site-verification" content="L6Lm9d5Crl">
  
  
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
  
    <link rel="alternative" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.png">
  
  
  <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
    
    
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- 加载特效 -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet">
  <script>
      var yiliaConfig = {
          fancybox: true,
          animate: true,
          isHome: true,
          isPost: false,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
</head></html>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        
<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>

        <a href="/" class="profilepic">
            
            <img lazy-src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1565358714416&amp;di=db969344db196a4bd9c41365b8e45c8a&amp;imgtype=0&amp;src=http%3A%2F%2Fhbimg.b0.upaiyun.com%2F3082ac27c9139ea7b80b1c88f31ea86f8531f25611dcf-Owa1Zu_fw658" class="js-avatar">
            
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">John Doe</a></h1>
        </hgroup>
        
        
            <form>
                <input type="text" class="st-default-search-input search" id="local-search-input" placeholder="搜索一下" autocomplete="off">
            </form>
            <div id="local-search-result"></div>
        
        
            <script type="text/javascript">
                (function() {
                    'use strict';
                    function getMatchData(keyword, data) {
                        var matchData = [];
                        for(var i =0;i<data.length;i++){
                            if(data[i].title.toLowerCase().indexOf(keyword)>=0) 
                                matchData.push(data[i])
                        }
                        return matchData;
                    }
                    var $input = $('#local-search-input');
                    var $resultContent = $('#local-search-result');
                    $input.keyup(function(){
                        $.ajax({
                            url: '/search.json',
                            dataType: "json",
                            success: function( json ) {
                                var str='<ul class=\"search-result-list\">';                
                                var keyword = $input.val().trim().toLowerCase();
                                $resultContent.innerHTML = "";
                                if ($input.val().trim().length <= 0) {
                                    $resultContent.empty();
                                    $('#switch-area').show();
                                    return;
                                }
                                var results = getMatchData(keyword, json);
                                if(results.length === 0){
                                    $resultContent.empty();
                                    $('#switch-area').show();
                                    return;
                                } 
                                for(var i =0; i<results.length; i++){
                                    str += "<li><a href='"+ results[i].url +"' class='search-result-title'>"+ results[i].title +"</a></li>";
                                }
                                str += "</ul>";
                                $resultContent.empty();
                                $resultContent.append(str);
                                $('#switch-area').hide();
                            }
                        });
                    });
                })();
            </script>
        
        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        
        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a  href="/archives/">所有文章</a></li>
                        
                            <li><a  href="/categories/开发工具/">玩转开发工具</a></li>
                        
                            <li><a  href="/categories/digital">玩转数码</a></li>
                        
                            <li><a  href="/categories/algorithm">算法学习</a></li>
                        
                            <li><a  href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl github"  target="_blank" href="/xxxxx" title="github">github</a>
                            
                                <a class="fl weibo"  target="_blank" href="/xxxxxxxx" title="weibo">weibo</a>
                            
                                <a class="fl rss"  target="_blank" href="/atom.xml" title="rss">rss</a>
                            
                        </ul>
                    </nav>
                </section>
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/web安全/" style="font-size: 10px;">web安全</a> <a href="/tags/系统安全/" style="font-size: 20px;">系统安全</a> <a href="/tags/网络/" style="font-size: 15px;">网络</a> <a href="/tags/网络安全/" style="font-size: 10px;">网络安全</a>
                    </div>
                </section>
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://blog.csdn.net/baidu_21483933">csdn</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="https://segmentfault.com/blog/maocg_web">segmentfault</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.jianshu.com/users/eb37ef89c746/latest_articles">简书</a>
                    
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">爱动漫,爱游戏,爱编程,爱运动,爱的太多了!</div>
                </section>
                
            </div>
        </div>
    </header>
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">John Doe</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1565358714416&amp;di=db969344db196a4bd9c41365b8e45c8a&amp;imgtype=0&amp;src=http%3A%2F%2Fhbimg.b0.upaiyun.com%2F3082ac27c9139ea7b80b1c88f31ea86f8531f25611dcf-Owa1Zu_fw658" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">John Doe</a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/categories/开发工具/">玩转开发工具</a></li>
                
                    <li><a href="/categories/digital">玩转数码</a></li>
                
                    <li><a href="/categories/algorithm">算法学习</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="github" target="_blank" href="/xxxxx" title="github">github</a>
                    
                        <a class="weibo" target="_blank" href="/xxxxxxxx" title="weibo">weibo</a>
                    
                        <a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
                    
                </div>
            </nav>
        </header>
    </div>
</nav>
      <div class="body-wrap">
  
    <article id="post-09-18linux shell脚本" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2019/09/24/09-18linux shell脚本/" class="article-date">
      <time datetime="2019-09-24T14:07:30.328Z" itemprop="datePublished">2019-09-24</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>linux shell脚本</p>
<p>shell脚本与Windows/Dos下的批处理相似，也就是用各类命令预先放入到一个文件中，方便一次性执行的一个程序文件，<br>主要是方便管理员进行设置或者管理用的。相对于Perl、Python等脚本语言优势在于它能处理底层业务，<br>因为有大量Linux命令作为支撑，“自动安装”等用shell脚本写就会非常简单。</p>
<p>Linux下的shell脚本默认为bash ，sh其实是bash的一个链接。</p>
<p>1）查看默认shell的两种方法:<br>1）echo $SHELL<br>/bin/bash</p>
<p>2）grep root /etc/passwd<br>root:x:0:0:root:/root:/bin/bash</p>
<p>（2）样例脚本：<br>基于这个脚本来学习一下简单的shell脚本。</p>
<p>#!bin/bash</p>
<p>#变量定义</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ETC_DIR=/etc/sysconfig/network-scripts</span><br><span class="line">NET_DIR=/etc/sysconfig</span><br><span class="line">ROOT_UID=0</span><br></pre></td></tr></table></figure>

<p>#if条件判断</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">if [ &quot;$UID&quot; -ne &quot;$ROOT_UID&quot; ]  #判断是否为root权限</span><br><span class="line">then</span><br><span class="line">   echo &quot;Must be root to run this script&quot;</span><br><span class="line">   exit 1</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">cd $ETC_DIR || &#123;</span><br><span class="line">    echo &quot;Cannot change to necessary directory,&quot;&gt;&amp;2</span><br><span class="line">    exit 1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>#清除原来的网卡配置文件</p>
<p>cat /dev/null  &gt;ifcfg-eth0 &amp;&amp; echo “clean ifcfg-eth0 ok!”</p>
<p>#写入eth0配置：init_ip是先编辑好的网卡配置文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cat /root/init_ip &gt;ifcfg-eth0 &amp;&amp; echo &quot;write eth0 sucessfully&quot;</span><br><span class="line">cd $NET_DIR || &#123;</span><br><span class="line">    echo &quot;Cannot change to necessary directory,&quot;&gt;&amp;2</span><br><span class="line">    exit 1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>service network restart   #重启网络命令<br>exit 0  #返回成功</p>
<p>（2）UID说明<br>UID是一个系统变量，当前是root权限 UID=0，当前非root权限UID不等于0<br>所以我们在这设置了一个变量ROOT_UID=0,来判断当前是否为root状态，因为我们对系统的配置文件进行修改必须使用root权限。所以执行的时候必须加sudo。</p>
<p>脚本执行时候会先调用环境变量，去找相关变量，有的变量是系统已经定义可直接使用，如上文用到的UID。<br>1）cat /etc/profile     （全局）<br>2）cat /etc/profile.d   （全局）可以把变量放在这里面就可以直接用<br>3）.bashrc：用户环境变量<br>4）.bash_profile：用户环境变量</p>
<p>（3）清空文件的三种方法：<br>清空日志的三种方法：<br>1、echo “”&gt;test.log<br>2、echo  &gt;test.log<br>3、cat /dev/null &gt;test.log</p>
<p>/dev/null称之为黑洞<br>在代码中用的是第三种方法：cat /dev/null &gt;network</p>
<p>（4）&amp;&amp;与||的使用：<br>cat /dev/null  &gt;ifcfg-eth0 &amp;&amp; echo “clean ifcfg-eth0 ok!”</p>
<p><a href>1.&amp;&amp;表示只有当前面的命令执行成功以后才执行后面的命令。<br>2.||表示前面执行不成功就执行后面命令。</a><br>在这两个符号后面，用大括号，可以写入多条命令<br>cd $NET_DIR || {<br>    echo “Cannot change to necessary directory,”&gt;&amp;2<br>    exit 1<br>}</p>
<p>如果不能够进入到该目录下，就打印错误信息。<br>1）&amp;0表示标准输入。<br>2）&amp;1表示标准输出。<br>3）&amp;2表示标准出错，</p>
<p>（5）脚本执行的三种方法：<br>1）bash或sh + 脚本名     （文件无可执行权限，或者没指定解释器）<br>2）绝对路径/脚本名     （需要可执行权限）或者./（和第一种方法类似，不过需要可执行权限）<br>3）source +脚本名 或者. 脚本名</p>
<p>bash或sh 指定的bash执行脚本，然后启动子shell去执行,比如，没有在脚本第一行指定使用哪一种脚本命令，就要在执行时指定解释器。<br>一般脚本都会在第一行写上‘#!/bin/bash’,且只能放在第一行，放在其他行就作注释处理，则需要用使用第一种方法。但是在Linux系统默认是bash，所以无需指定也可以，但是在其他系统就不行了。</p>
<p>（6）source xxx.sh<br>source和.命令是Shell的内建命令，这种方式也不会创建子Shell,直接在当前的shell中执行，并且调用系统默认的shell去执行脚本，不管脚本中是不是指定shell命令解析器。<br>source和.命令不启动子shell，所以会直接执行子shell里的语句，并把变量传给父shell。脚本里面所有新建、改变变量的语句都会保存在当前shell里面。</p>
<p>一、常见变量</p>
<p>不同于其它语言需要先声明变量，shell的变量直接使用，eg:a=15   echo $a （该命令可提出出a的值）<br>调用变量的话 $a 或者 ${a}。 ${a} 可实现字符串拼接</p>
<p>​       </p>
<pre><code>$?    #判断上一条命令执行的是否成功，执行成功返回0，失败返回1

$0    #返回脚本的文件名称

$1-$9 #返回对应的参数值

$* #返回所有的参数值是什么

$# #返回参数的个数和</code></pre><p>编写脚本如下：</p>
<pre><code>#test
#!/bin/bash
#by xuhan 2019-3
#test
echo &quot;this is my first shell&quot;

echo &quot;脚本名称：$0&quot;
echo &quot;第一个参数：$1&quot;
echo &quot;第二个参数：$2&quot;
echo “所有的参数值：$* ”
echo &quot;参数的个数和：$#&quot;
~</code></pre><p>添加测试用例结果如下：</p>
<p>二、常见的几个符号</p>
<blockquote>
<p>#会覆盖原有的内容</p>
</blockquote>
<blockquote>
<blockquote>
<p>#不会覆盖原有的内容</p>
</blockquote>
</blockquote>
<p>;    #执行多条命令</p>
<p>|    #管道符</p>
<p>&amp;&amp; #前面的命令执行成功，后面的才可以执行</p>
<p>|| #前面的命令执行失败，后面的才可以执行</p>
<p> “” #会输出变量值</p>
<p> ‘’ #输出本身</p>
<p>`` #输出命令结果 eg:a=<code>date</code>;echo $a</p>
<p>2&gt;/dev/null  #错误输出到无底洞</p>
<p>1&gt;/dev/null  #正确输出到无底洞</p>
<p>​              </p>
<p><a href="https://www.jb51.net/article/134292.htm" target="_blank" rel="noopener">https://www.jb51.net/article/134292.htm</a></p>
<p>1、单行注释：#</p>
<p>2、多行注释</p>
<p>方法一（这是比较稳妥的作法）：可以采用 HERE DOCUMENT 特性，实现多行注释，比如</p>
<pre><code>&lt;&lt;&apos;COMMENT&apos;
...

COMMENT</code></pre><p>举例如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">echo &quot;Say Something&quot;</span><br><span class="line">&lt;&lt;COMMENT</span><br><span class="line">    your comment 1</span><br><span class="line">    comment 2</span><br><span class="line">    blah</span><br><span class="line">COMMENT</span><br><span class="line">echo &quot;Do something else&quot;</span><br></pre></td></tr></table></figure>

<p>方法二 </p>
<p>直接采用 : 这个命令的特殊作用，但这种做法有很多局限性，而且会影响性能，下面会介绍它的原理及性能分析。</p>
<p>如下是最简单的使用方法:</p>
<pre><code>: &apos;
COMMENT1
COMMENT2
&apos;</code></pre><p>即 : + 空格 + 单引号。</p>
<p>解释如下：</p>
<p>首先要知道 : 在 shell 中的特殊作用，它是内置的命令，先看一下它的帮助说明：</p>
<pre><code>$ help :
:: :
Null command.
No effect; the command does nothing.
Exit Status:
Always succeeds.</code></pre><p>即，:  它也是一个命令，既然是命令就会可以给它传参数，但因它会过滤掉这些参数，而单引号括起来的是普通的代码部分表示字符串，所以我们刚好可将来用来代表注释，表示在 : 后的 单引号括起来的部分在程序执行的时候忽略。</p>
<p>另外如果不好理解，直接把它当作汇编中的 NOP， python 中的 pass ，它只是一个占位，每次返回都是真，即 $? 的话，结果会是 0 。</p>
<p>如此一来，此方法是不是很绝妙？ 但事实上里面潜藏着很多问题：</p>
<pre><code>它不会注释 shell 脚本中本身带有单引号的语句部分，除非你将程序中的单引号全部换成双引号，这样不爽。
还是就是，虽然 : 会忽视后面的参数，但其实参数部分还是可能会被执行些操作，比如替换操作，文件截取操作等。所以这样会影响到代码的执行效率。
例如：
: &gt; file 会截取 file 。
: $(dangerous command) 这个替换操作照样会执行。</code></pre><p>所以第二种方法，只能临时用用。</p>
<p>第三种方法，即：采用 : + &lt;&lt; ‘COMMENT’ 的方式。</p>
<pre><code>#!/bin/bash
echo &quot;Say Something&quot;
: &lt;&lt;&apos;COMMENT&apos;
    your comment 1
    comment 2
    blah
COMMENT
echo &quot;Do something else&quot;</code></pre><p>注意：要加上单引号部分，有时候虽然不加不会有什么问题，但还是要加，以防出现莫名其妙的意外发生，比如发生字符扩展，命令替换等。</p>
<p>但最保险的方法还是每行前加上 #</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-09-24第一章爬虫" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2019/09/24/09-24第一章爬虫/" class="article-date">
      <time datetime="2019-09-23T16:00:00.000Z" itemprop="datePublished">2019-09-24</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2019/09/24/09-24第一章爬虫/">初识python</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <p>浅谈python</p>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/web安全/">web安全</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a   href="/2019/09/24/09-24第一章爬虫/#more">查看更多 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-09-09Linux下的磁盘分区和逻辑卷" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2019/09/09/09-09Linux下的磁盘分区和逻辑卷/" class="article-date">
      <time datetime="2019-09-09T04:34:30.000Z" itemprop="datePublished">2019-09-09</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2019/09/09/09-09Linux下的磁盘分区和逻辑卷/">磁盘分区与挂载</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <a id="more"></a>

<p>Linux下的磁盘分区和逻辑卷 </p>
<h2 id="一、硬盘接口类型"><a href="#一、硬盘接口类型" class="headerlink" title="一、硬盘接口类型"></a><strong>一、硬盘接口类型</strong></h2><p>　　硬盘的接口主要有IDE、SATA、SCSI  、SAS和光纤通道等五种类型。其中IDE和SATA接口硬盘多用于家用产品中，也有部分应用于服务器，SATA是一种新生的硬盘接口类型，已经取代了大部分IDE接口应用。SCSI   、SAS主要应用于服务器上，普通家用设备一般不支持SCSI和SAS接口。SAS也是是一种新生的硬盘接口类型，可以和SATA以及部分SCSI设备无缝结合。光纤通道最初设计也不是为了硬盘设计开发的接口，是专门为网络系统设计的，但随着存储系统对速度的需求，才逐渐应用到硬盘系统中，并且其只应用在高端服务器上价格昂贵。</p>
<h2 id="二、硬盘和分区"><a href="#二、硬盘和分区" class="headerlink" title="二、硬盘和分区"></a><strong>二、硬盘和分区</strong></h2><p> 　　Linux中主要有两种分区类型，分别为MBR（Master Boot Record）和GPT（GUID Partition  Table），是在磁盘上存储分区信息的两种不同方式。这些分区信息包含了分区从哪里开始的信息，这样操作系统才知道哪个扇区是属于哪个分区的，以及哪个分区是可以启动的。在磁盘上创建分区时，你必须在MBR和GPT之间做出选择。</p>
<p>　　在Linux中会把设备映射成为一个/dev目录下的系统文件，IDE接口类型的硬盘设备映射的文件名称前缀为“hd”，SCSI、SATA、SAS等接口的硬盘设备映射的文件名称前缀为“sd”（部分虚拟机或者云主机的名称可能是其他的，比如“vd”），后面拼接从“a”开始一直到“z”用来区分不同的硬盘设备，在硬盘名称后面拼接数字形式的分区号用来区分不同的分区。</p>
<h3 id="1、MBR分区"><a href="#1、MBR分区" class="headerlink" title="1、MBR分区"></a><strong>1、MBR分区</strong></h3><p>　　MBR的意思是“主引导记录”，它是存在于驱动器开始部分的一个特殊的启动扇区。这个扇区包含了已安装的操作系统的启动加载器和驱动器的逻辑分区信息。MBR支持最大2TB磁盘，它无法处理大于2TB容量的磁盘。MBR格式的磁盘分区主要分为<strong>基本分区</strong>（primary partion）和<strong>扩展分区</strong>（extension partion）两种<strong>主分区</strong>和扩展分区下的<strong>逻辑分区</strong>。主分区总数不能大于4个，其中最多只能有一个扩展分区。且基本分区可以马上被挂载使用但不能再分区，扩展分区必须再进行二次分区后才能挂载。扩展分区下的二次分区被称之为逻辑分区，逻辑分区数量限制视磁盘类型而定。</p>
<p>　　MBR的主分区号为1-4，逻辑分区号为从5开始累加的数字。比如设备主板上装了4块硬盘，分别为2块IDE接口硬盘，1块SCSI接口硬盘和一块SATA接口硬盘。其中2块IDE接口硬盘的分区策略为2个主分区和2个逻辑分区，SCSI分区策略为3个主分区和3个逻辑分区，SATA分区策略为4个主分区。硬盘文件和分区名称如下：</p>
<table>
<thead>
<tr>
<th></th>
<th>硬盘</th>
<th>主分区1</th>
<th>主分区2</th>
<th>主分区3</th>
<th>主分区4</th>
<th>逻辑分区1</th>
<th>逻辑分区2</th>
<th>逻辑分区3</th>
<th>……</th>
<th>逻辑分区n</th>
</tr>
</thead>
<tbody><tr>
<td>IDE1</td>
<td>/dev/hda</td>
<td>/dev/hda1(p)</td>
<td>/dev/hda2(p)</td>
<td>/dev/hda3(e)</td>
<td>/</td>
<td>/dev/hda5(l)</td>
<td>/dev/hda6(l)</td>
<td>/</td>
<td>……</td>
<td>/</td>
</tr>
<tr>
<td>IDE2</td>
<td>/dev/hdb</td>
<td>/dev/hdb1(p)</td>
<td>/dev/hdb2(p)</td>
<td>/dev/hdb3(e)</td>
<td>/</td>
<td>/dev/hdb5(l)</td>
<td>/dev/hdb6(l)</td>
<td>/</td>
<td>……</td>
<td>/</td>
</tr>
<tr>
<td>SCSI</td>
<td>/dev/sda</td>
<td>/dev/sda1(p)</td>
<td>/dev/sda2(p)</td>
<td>/dev/sda3(p)</td>
<td>/dev/sda4(e)</td>
<td>/dev/sda5(l)</td>
<td>/dev/sda6(l)</td>
<td>/dev/sda7(l)</td>
<td>……</td>
<td>/</td>
</tr>
<tr>
<td>SATA</td>
<td>/dev/sdb</td>
<td>/dev/sdb1(p)</td>
<td>/dev/sdb2(p)</td>
<td>/dev/sdb3(p)</td>
<td>/dev/sdb4(p)</td>
<td>/</td>
<td>/</td>
<td>/</td>
<td>……</td>
<td>/</td>
</tr>
</tbody></table>
<p>其中分区名称后面的（p）代表基本分区，（e）代表扩展分区，（l）代表逻辑分区。需要注意的是，如果分区策略中存在逻辑分区，则说明一定会有扩展分区，那么基本分区数则最多只能有3个，扩展分区数最多只能是1个，如果没有扩展分区则可以创建4个基本分区。想要创建逻辑分区，则必须先将唯一的扩展分区创建出来，并且如果删除了扩展分区，那么它下面的所有逻辑分区也会被自动删除。</p>
<p>　　如果是SCSI接口硬盘则最多只能有15（其中扩展分区不能直接使用所以不计算）个分区，其中主分区最多4个，逻辑分区最多12个。IDE接口硬盘最多只能有63（其中扩展分区不能直接使用所以不计算）个分区，其中主分区最多4个，逻辑分区最多60个。</p>
<h3 id="2、GPT分区"><a href="#2、GPT分区" class="headerlink" title="2、GPT分区"></a><strong>2、GPT分区</strong></h3><p>　　GPT意为GUID分区表，驱动器上的每个分区都有一个全局唯一的标识符（globally unique  identifier，GUID）。支持的最大磁盘可达18EB，它没有主分区和逻辑分区之分，每个硬盘最多可以有128个分区，具有更强的健壮性与更大的兼容性，并且将逐步取代MBR分区方式。GPT分区的命名和MBR类似，只不过没有主分区、扩展分区和逻辑分区之分，分区号直接从1开始累加一直到128。</p>
<h2 id="三、逻辑卷"><a href="#三、逻辑卷" class="headerlink" title="三、逻辑卷"></a><strong>三、逻辑卷</strong></h2><p> 　　LVM（逻辑卷）的产生是因为传统的分区一旦分区好后就无法在线扩充空间，也存在一些工具能实现在线扩充空间但是还是会面临数据损坏的风险；传统的分区当分区空间不足时，一般的解决办法是再创建一个更大的分区将原分区卸载然后将数据拷贝到新分区，但是在企业的生产系统往往不允许停机或者允许停机的时间很短，LVM就能很好的解决在线扩充空间的问题，而且不会对数据造成影响，LVM还能通过快照在备份的过程中保证日志文件和表空间文件在同一时间点的一致性。</p>
<p>　　在LVM中PE(Physical  Extend)是卷的最小单位，默认4M大小，就像我们的数据是以页的形式存储一样，卷就是以PE的形式存储。PV(Physical  Volume)是物理卷，如果要使用逻辑卷，首先第一步操作就是将物理磁盘或者物理分区格式化成PV，格式化之后PV就可以为逻辑卷提供PE了。VG(Volume   Group)是卷组，VG就是将很多PE组合在一起生成一个卷组，当然这里的PE是可以跨磁盘的，如果当前服务器磁盘空间不足就可以增加一个新磁盘对当前系统不会产生任何影响。LV(Logical  Volume)是逻辑卷，逻辑卷最终是给用户使用的，前面几个都是为创建逻辑卷做的准备，创建逻辑卷的大小只要不超过VG剩余空间就可以。</p>
<h2 id="四、文件系统"><a href="#四、文件系统" class="headerlink" title="四、文件系统"></a><strong>四、文件系统</strong></h2><p>　　当硬盘分区被创建完成之后，还并不能直接挂载到目录上存储文件，需要选择合适的文件系统进行格式化。常见的分区类型有FAT32、FAT16、NTFS、HP-UX等，而专供Linux使用的主流的一些分区有ext2/3/4、physical  volume (LVM) 、softwareRAID、swap、vfat、xfs等。其中：</p>
<p>　　1、ext2/3/4：是适合Linux的文件系统类型，由于ext3文件系统多了日志记录功能，因此系统恢复起来更加快速，ext4是ext3的升级，效率更加高，因此建议使用默认类型ext4类型，而不要使用ext2/3；</p>
<p>　　2、physical volume (LVM)：这是一种弹性调整文件系统大小的机制，即可以让文件系统变大或变小，而不改变原文件数据的内容，功能不错，但性能不佳。</p>
<p>　　3、softwareRAID：利用Linux系统的特性，用软件仿真出磁盘阵列功能。</p>
<p>　　4、swap：就是内存交换空间。由于swap并不会使用到目录树的挂载，因此用swap就不需要指定挂载点。</p>
<p>　　5、vfat：同时被Linux与windows所支持的文件系统类型。如果主机硬盘同事存在windows和linux两种操作系统，为了进行数据交换，可以使用该文件系统。</p>
<p>　　6、xfs：也是一个文件系统类型，在centos7中将被作为默认的文件系统类型，替换ext4。</p>
<p><a href="https://www.cnblogs.com/lbole/p/8904298.html" target="_blank" rel="noopener">https://www.cnblogs.com/lbole/p/8904298.html</a></p>
<h2 id="五、使用fdisk操作分区"><a href="#五、使用fdisk操作分区" class="headerlink" title="五、使用fdisk操作分区"></a><strong>五、使用fdisk操作分区</strong></h2><p>　　本文主要以CentOS 7发行版的Linux作为实验，我们使用Fdisk工具来操作分区，Fdisk 是各种 Linux 发行版本中最常用的分区工具。</p>
<p>　　首先输入 fdisk -h 命令查看帮助信息：</p>
<p><a href="javascript:void(0);" target="_blank" rel="noopener"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@localnat201 ~]# fdisk -h</span><br><span class="line">用法：</span><br><span class="line">fdisk [选项] &lt;磁盘&gt; 更改分区表</span><br><span class="line">fdisk [选项] -l &lt;磁盘&gt; 列出分区表</span><br><span class="line">fdisk -s &lt;分区&gt; 给出分区大小(块数)</span><br><span class="line"></span><br><span class="line">选项：</span><br><span class="line">-b &lt;大小&gt; 扇区大小(512、1024、2048或4096)</span><br><span class="line">-c[=&lt;模式&gt;] 兼容模式：“dos”或“nondos”(默认)</span><br><span class="line">-h 打印此帮助文本</span><br><span class="line">-u[=&lt;单位&gt;] 显示单位：“cylinders”(柱面)或“sectors”(扇区，默认)</span><br><span class="line">-v 打印程序版本</span><br><span class="line">-C &lt;数字&gt; 指定柱面数</span><br><span class="line">-H &lt;数字&gt; 指定磁头数</span><br><span class="line">-S &lt;数字&gt; 指定每个磁道的扇区数</span><br></pre></td></tr></table></figure>

<p><a href="javascript:void(0);" target="_blank" rel="noopener"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<p>　　从中我们可以看出，使用 fdisk -l 命令可查看分区表信息：</p>
<p><a href="javascript:void(0);" target="_blank" rel="noopener"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">[root@localnat201 ~]# fdisk -l</span><br><span class="line"></span><br><span class="line">磁盘 /dev/sda：32.2 GB, 32212254720 字节，62914560 个扇区</span><br><span class="line">Units = 扇区 of 1 * 512 = 512 bytes</span><br><span class="line">扇区大小(逻辑/物理)：512 字节 / 512 字节</span><br><span class="line">I/O 大小(最小/最佳)：512 字节 / 512 字节</span><br><span class="line">磁盘标签类型：dos</span><br><span class="line">磁盘标识符：0x000b1bc3</span><br><span class="line"></span><br><span class="line">   设备 Boot      Start         End      Blocks   Id  System</span><br><span class="line">/dev/sda1   *        2048     2099199     1048576   83  Linux</span><br><span class="line">/dev/sda2         2099200    62914559    30407680   8e  Linux LVM</span><br><span class="line"></span><br><span class="line">磁盘 /dev/sdb：53.7 GB, 53687091200 字节，104857600 个扇区</span><br><span class="line">Units = 扇区 of 1 * 512 = 512 bytes</span><br><span class="line">扇区大小(逻辑/物理)：512 字节 / 512 字节</span><br><span class="line">I/O 大小(最小/最佳)：512 字节 / 512 字节</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">磁盘 /dev/mapper/cl-root：29.0 GB, 28982640640 字节，56606720 个扇区</span><br><span class="line">Units = 扇区 of 1 * 512 = 512 bytes</span><br><span class="line">扇区大小(逻辑/物理)：512 字节 / 512 字节</span><br><span class="line">I/O 大小(最小/最佳)：512 字节 / 512 字节</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">磁盘 /dev/mapper/cl-swap：2147 MB, 2147483648 字节，4194304 个扇区</span><br><span class="line">Units = 扇区 of 1 * 512 = 512 bytes</span><br><span class="line">扇区大小(逻辑/物理)：512 字节 / 512 字节</span><br><span class="line">I/O 大小(最小/最佳)：512 字节 / 512 字节</span><br></pre></td></tr></table></figure>

<p><a href="javascript:void(0);" target="_blank" rel="noopener"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<p>　　从中我们可以看出，有4个设备，分别为/dev/sda、/dev/sdb、/dev/mapper/cl-root、/dev/mapper/cl-swap。其中/dev/sda硬盘已经有2个分区分区为：/dev/sda1和/dev/sda2。/dev/mapper/cl-root和/dev/mapper/cl-swap两个设备是/dev/sda2分区创建的逻辑卷。这里的/dev/sdb硬盘设备并没有被分区，我们则是需要来操作这个硬盘，至于如何操作逻辑卷后面会讲到。</p>
<p>　　输入 fdisk /dev/sdb 命令，对/dev/sda硬盘的分区表进行操作：</p>
<p><a href="javascript:void(0);" target="_blank" rel="noopener"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localnat201 ~]# fdisk /dev/sdb</span><br><span class="line">欢迎使用 fdisk (util-linux 2.23.2)。</span><br><span class="line"></span><br><span class="line">更改将停留在内存中，直到您决定将更改写入磁盘。</span><br><span class="line">使用写入命令前请三思。</span><br><span class="line"></span><br><span class="line">Device does not contain a recognized partition table</span><br><span class="line">使用磁盘标识符 0xc72a6f6a 创建新的 DOS 磁盘标签。</span><br></pre></td></tr></table></figure>

<p><a href="javascript:void(0);" target="_blank" rel="noopener"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<p>　　我们输入”m”选项可以查看到帮助信息：</p>
<p><a href="javascript:void(0);" target="_blank" rel="noopener"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">命令(输入 m 获取帮助)：m</span><br><span class="line">命令操作</span><br><span class="line">   a   toggle a bootable flag 切换可引导标志</span><br><span class="line">   b   edit bsd disklabel 编辑BSD磁盘标签</span><br><span class="line">   c   toggle the dos compatibility flag 切换DOS兼容性标志</span><br><span class="line">   d   delete a partition 删除分区</span><br><span class="line">   g   create a new empty GPT partition table 创建一个新的空GPT分区表</span><br><span class="line">   G   create an IRIX (SGI) partition table 创建一个ILIX（SGI）分区表</span><br><span class="line">   l   list known partition types 列出已知分区类型</span><br><span class="line">   m   print this menu 打印此菜单</span><br><span class="line">   n   add a new partition 添加新分区</span><br><span class="line">   o   create a new empty DOS partition table 创建一个新的空DOS分区表</span><br><span class="line">   p   print the partition table 打印分区表</span><br><span class="line">   q   quit without saving changes 不保存更改退出</span><br><span class="line">   s   create a new empty Sun disklabel 创建一个新的空太阳标签</span><br><span class="line">   t   change a partition&apos;s system id 更改分区的系统ID</span><br><span class="line">   u   change display/entry units 更改显示/输入单元</span><br><span class="line">   v   verify the partition table 验证分区表</span><br><span class="line">   w   write table to disk and exit 将表写入磁盘并退出</span><br><span class="line">   x   extra functionality (experts only) 额外功能（仅专家）命令(输入 m 获取帮助)：</span><br></pre></td></tr></table></figure>

<p><a href="javascript:void(0);" target="_blank" rel="noopener"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<p>　　从上面的帮助信息中，可以得知一些选项的用途。这里主要注意”d”、”n”、”q”、”g”、”w”等选项。首先要明确分区格式，fdisk默认的分区格式是msdos（mbr），在此可输入”g”选项，将分区格式修改为GPT，不过在修改完保存退出之后，在输入 fdisk /dev/sdb 命令进入分区模式，会出现 WARNING: fdisk GPT support is currently new, and therefore in an experimental phase. Use at your own discretion. 信息，提示fdisk gpt分区是新的功能，目前还在实验阶段。所以如果要进行GPT分区，那么推荐使用 parted 命令，后面会介绍到。</p>
<p>　　那么首先输入”n”选项来开始创建分区：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">命令(输入 m 获取帮助)：n</span><br><span class="line">Partition type:</span><br><span class="line">   p   primary (1 primary, 0 extended, 3 free)</span><br><span class="line">   e   extended</span><br><span class="line">Select (default p):</span><br></pre></td></tr></table></figure>

<p>　　可以看到交互界面打印的信息，提示需要选择一个分区类型，”p”:为基本分区（默认）；”e”：为扩展分区。在此我们选择”p”，创建一个基本分区：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Partition type:p primary (1 primary, 0 extended, 3 free)e extendedSelect (default p): p</span><br><span class="line">分区号 (2-4，默认 2)：</span><br></pre></td></tr></table></figure>

<p>　　交互界面提示需要选择一个分区号，范围为2-4。由于已经存在了一个基本分区，所以只可选择2、3、4（默认2，顺序累加）。在此我们输入2：</p>
<p><a href="javascript:void(0);" target="_blank" rel="noopener"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<p>Partition type:<br>   p   primary (1 primary, 0 extended, 3 free)<br>   e   extended<br>Select (default p): p<br>分区号 (2-4，默认 2)：2<br>起始 扇区 (2099200-314572799，默认为 2099200)：</p>
<p><a href="javascript:void(0);" target="_blank" rel="noopener"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<p>　　可以看到交互界面提示序号选择其实扇区，默认为剩余未被分配的最小扇区，推荐选择默认（直接点击回车）；</p>
<p><a href="javascript:void(0);" target="_blank" rel="noopener"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Partition type:</span><br><span class="line">   p   primary (1 primary, 0 extended, 3 free)</span><br><span class="line">   e   extended</span><br><span class="line">Select (default p): p</span><br><span class="line">分区号 (2-4，默认 2)：2</span><br><span class="line">起始 扇区 (2099200-314572799，默认为 2099200)：</span><br><span class="line">将使用默认值 2099200</span><br><span class="line">Last 扇区, +扇区 or +size&#123;K,M,G&#125; (2099200-314572799，默认为 314572799)：</span><br></pre></td></tr></table></figure>

<p><a href="javascript:void(0);" target="_blank" rel="noopener"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<p>　　交互界面提示，要输入需要分配的截止扇区，默认为未被分配的最小扇区，此处推荐默认（直接点击回车）：</p>
<p><a href="javascript:void(0);" target="_blank" rel="noopener"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Partition type:</span><br><span class="line">   p   primary (1 primary, 0 extended, 3 free)</span><br><span class="line">   e   extended</span><br><span class="line">Select (default p): p</span><br><span class="line">分区号 (2-4，默认 2)：2</span><br><span class="line">起始 扇区 (2099200-314572799，默认为 2099200)：</span><br><span class="line">将使用默认值 2099200</span><br><span class="line">Last 扇区, +扇区 or +size&#123;K,M,G&#125; (2099200-314572799，默认为 314572799)：</span><br><span class="line">将使用默认值 314572799</span><br><span class="line">分区 2 已设置为 Linux 类型，大小设为 149 GiB</span><br><span class="line"></span><br><span class="line">命令(输入 m 获取帮助)：</span><br></pre></td></tr></table></figure>

<p><a href="javascript:void(0);" target="_blank" rel="noopener"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<p>　　可以看到又回到了最初的交互界面，这表示分区表已经设置成功，输入选项q表示要放弃本次分区表的修改并退出，w选项表示保存本次分区表的修改并退出，此处选择w表示将分区信息写入到磁盘，此次分区完成；</p>
<p>　　回到最初操作分区表的地方，选择”d”选项，删除分区的功能：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">命令(输入 m 获取帮助)：d</span><br><span class="line">分区号 (1,2，默认 2)：</span><br></pre></td></tr></table></figure>

<p>　　交互界面提示输入要删除的分区的分区号，此处选择2：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">命令(输入 m 获取帮助)：d</span><br><span class="line">分区号 (1,2，默认 2)：2</span><br><span class="line">分区 2 已删除</span><br><span class="line"></span><br><span class="line">命令(输入 m 获取帮助)：</span><br></pre></td></tr></table></figure>

<p>　　交互界面提示本次分区表操作成功，输入选项”w”，表示将分区信息写入到磁盘，此次删除分区完成。回到最初选择分区类型的地方，选择”e”，创建扩展分区：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Partition type:</span><br><span class="line">   p   primary (1 primary, 0 extended, 3 free)</span><br><span class="line">   e   extended</span><br><span class="line">Select (default p): e</span><br><span class="line">分区号 (2-4，默认 2)：</span><br></pre></td></tr></table></figure>

<p>　　交互界面提示要输入扩展分区的分区号，可选范围为2-4，此处选择2：</p>
<p><a href="javascript:void(0);" target="_blank" rel="noopener"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Partition type:</span><br><span class="line">   p   primary (1 primary, 0 extended, 3 free)</span><br><span class="line">   e   extended</span><br><span class="line">Select (default p): e</span><br><span class="line">分区号 (2-4，默认 2)：2</span><br><span class="line">起始 扇区 (2099200-314572799，默认为 2099200)：</span><br></pre></td></tr></table></figure>

<p><a href="javascript:void(0);" target="_blank" rel="noopener"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<p>　　交互界面提示输入要分配给扩展分区的起始扇区，此处选择默认：</p>
<p><a href="javascript:void(0);" target="_blank" rel="noopener"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Partition type:</span><br><span class="line">   p   primary (1 primary, 0 extended, 3 free)</span><br><span class="line">   e   extended</span><br><span class="line">Select (default p): e</span><br><span class="line">分区号 (2-4，默认 2)：2</span><br><span class="line">起始 扇区 (2099200-314572799，默认为 2099200)：</span><br><span class="line">将使用默认值 2099200</span><br><span class="line">Last 扇区, +扇区 or +size&#123;K,M,G&#125; (2099200-314572799，默认为 314572799)：</span><br></pre></td></tr></table></figure>

<p><a href="javascript:void(0);" target="_blank" rel="noopener"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<p>　　交互界面提示输入要分配给扩展分区的截止扇区，此处选择默认：</p>
<p><a href="javascript:void(0);" target="_blank" rel="noopener"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Partition type:</span><br><span class="line">   p   primary (1 primary, 0 extended, 3 free)</span><br><span class="line">   e   extended</span><br><span class="line">Select (default p): e</span><br><span class="line">分区号 (2-4，默认 2)：2</span><br><span class="line">起始 扇区 (2099200-314572799，默认为 2099200)：</span><br><span class="line">将使用默认值 2099200</span><br><span class="line">Last 扇区, +扇区 or +size&#123;K,M,G&#125; (2099200-314572799，默认为 314572799)：</span><br><span class="line">将使用默认值 314572799</span><br><span class="line">分区 2 已设置为 Extended 类型，大小设为 149 GiB</span><br><span class="line"></span><br><span class="line">命令(输入 m 获取帮助)：</span><br></pre></td></tr></table></figure>

<p><a href="javascript:void(0);" target="_blank" rel="noopener"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<p>　　交互界面提示本次对分区表的操作已完成，输入”w”选项，保存本次对分区表的操作；当再次创建分区的时候，交互界面就会将扩展分区的选项”e”替换成为逻辑分区的选项”l”：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Partition type:</span><br><span class="line">   p   primary (1 primary, 1 extended, 2 free)</span><br><span class="line">   l   logical (numbered from 5)</span><br><span class="line">Select (default p):</span><br></pre></td></tr></table></figure>

<p>　　之后再要创建逻辑分区和之前创建分区的步骤一直，分区完成。至此CentOS中的分区操作已完成；接下来我们需要将物理分区格式化成某一个文件系统，我们使用mkds进行分区格式化操作，输入 mkfs -h 命令获取帮助信息：</p>
<p><a href="javascript:void(0);" target="_blank" rel="noopener"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# mkfs -h</span><br><span class="line">用法：</span><br><span class="line"> mkfs [选项] [-t &lt;类型&gt;] [文件系统选项] &lt;设备&gt; [&lt;大小&gt;]</span><br><span class="line"></span><br><span class="line">选项：</span><br><span class="line"> -t, --type=&lt;类型&gt;  文件系统类型；</span><br><span class="line">     fs-options     实际文件系统构建程序的参数</span><br><span class="line">     &lt;设备&gt;         要使用设备的路径</span><br><span class="line">     &lt;大小&gt;         要使用设备上的块数</span><br><span class="line"> -V, --verbose      解释正在进行的操作；</span><br><span class="line">                      多次指定 -V 将导致空运行(dry-run)</span><br><span class="line"> -V, --version      显示版本信息并退出</span><br><span class="line">                      将 -V 作为 --version 选项时必须是惟一选项</span><br><span class="line"> -h, --help         显示此帮助并退出</span><br><span class="line"></span><br><span class="line">更多信息请参阅 mkfs(8)。</span><br></pre></td></tr></table></figure>

<p><a href="javascript:void(0);" target="_blank" rel="noopener"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<p>　　从帮助信息中我们可以看到，可以使用mkfs -t xfs /dev/sdb1 进行格式化分区：</p>
<p><a href="javascript:void(0);" target="_blank" rel="noopener"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@localnat201 ~]# mkfs -t xfs /dev/sda2 </span><br><span class="line">meta-data=/dev/sdb1              isize=512    agcount=4, agsize=624936 blks</span><br><span class="line">         =                       sectsz=512   attr=2, projid32bit=1</span><br><span class="line">         =                       crc=1        finobt=0, sparse=0</span><br><span class="line">data     =                       bsize=4096   blocks=2499744, imaxpct=25</span><br><span class="line">         =                       sunit=0      swidth=0 blks</span><br><span class="line">naming   =version 2              bsize=4096   ascii-ci=0 ftype=1</span><br><span class="line">log      =internal log           bsize=4096   blocks=2560, version=2</span><br><span class="line">         =                       sectsz=512   sunit=0 blks, lazy-count=1</span><br><span class="line">realtime =none                   extsz=4096   blocks=0, rtextents=0</span><br></pre></td></tr></table></figure>

<p><a href="javascript:void(0);" target="_blank" rel="noopener"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<p>　　格式化成xfs时，若提示分区已存在文件系统，则需要在分区前面加上-f选项强行覆盖，例如： mkfs -t xfs -f /dev/sda2 。被格式化的设备既可以是分区，也可以是逻辑卷。要查看所有分区的文件系统格式则可以使用 df -Th 命令。至此格式化分区完成。分区格式化完成之后则可以将分区挂载到某一个目录下面，正式开始使用改分区，我们在系统中创建一个用户挂载分区的目录：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# mkdir /data</span><br></pre></td></tr></table></figure>

<p>　　将分区挂载到目录上：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount /dev/sda2 /data/</span><br></pre></td></tr></table></figure>

<p>　　设置开机自动挂载分区到挂载点，编辑 vim /etc/fstab :</p>
<p><a href="javascript:void(0);" target="_blank" rel="noopener"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#</span><br><span class="line"># /etc/fstab</span><br><span class="line"># Created by anaconda on Sun Jun 25 07:16:25 2017</span><br><span class="line">#</span><br><span class="line"># Accessible filesystems, by reference, are maintained under &apos;/dev/disk&apos;</span><br><span class="line"># See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info</span><br><span class="line">#</span><br><span class="line">UUID=eb697457-a097-4263-8bbf-a75aa632d27c /                       ext4    defaults        1 1</span><br><span class="line"></span><br><span class="line">/dev/sda2                               /data                   xfs    defaults        0 0</span><br></pre></td></tr></table></figure>

<p><a href="javascript:void(0);" target="_blank" rel="noopener"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></p>
<p>　　如果想要卸载挂载点：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localnat201 ~]# umount /dev/sda2</span><br></pre></td></tr></table></figure>

<p>　　至此挂载分区已完成；</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/系统安全/">系统安全</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-08-09网络连接" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2019/09/08/08-09网络连接/" class="article-date">
      <time datetime="2019-09-08T09:42:20.000Z" itemprop="datePublished">2019-09-08</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2019/09/08/08-09网络连接/">网络连接</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <a id="more"></a>

<p>网络安全：</p>
<h1 id="一、主机名的配置（配置文件-etc-hostname）"><a href="#一、主机名的配置（配置文件-etc-hostname）" class="headerlink" title="一、主机名的配置（配置文件/etc/hostname）"></a>一、主机名的配置（配置文件/etc/hostname）</h1><h2 id="1、使用-hostname-命令临时设置主机名"><a href="#1、使用-hostname-命令临时设置主机名" class="headerlink" title="1、使用 hostname 命令临时设置主机名"></a>1、使用 hostname 命令临时设置主机名</h2><p>  命令格式：hostname [新主机名] </p>
<h2 id="2．永久设置主机名"><a href="#2．永久设置主机名" class="headerlink" title="2．永久设置主机名"></a>2．永久设置主机名</h2><p> 命令格式：hostnamectl set-hostname 新主机名</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost guest1]# hostname</span><br><span class="line">localhost.localdomain</span><br><span class="line">[root@localhost guest1]# hostnamectl set-hostname xuelian</span><br><span class="line">[root@localhost guest1]# hostname</span><br><span class="line">xuelian</span><br></pre></td></tr></table></figure>

<p>重启之后 进入命令行界面，并且使用等级转换不了</p>
<p><img src="https://ws1.sinaimg.cn/large/007ru3v0gy1g6shv6rhszj309g02nweb.jpg" alt="\img"></p>
<h1 id="二、网卡信息的配置"><a href="#二、网卡信息的配置" class="headerlink" title="二、网卡信息的配置"></a>二、网卡信息的配置</h1><h2 id="1、网卡配置文件"><a href="#1、网卡配置文件" class="headerlink" title="1、网卡配置文件"></a>1、网卡配置文件</h2><p>位于:/etc/sysconfig/network-scripts 目录下,一块网卡对应一个配置文件。<strong>ifcfg-ens33</strong>为网卡配置文件，常用配置项的含义如下：</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">DEVICE=ens33 //定义该网卡的识别名称。</span><br><span class="line"></span><br><span class="line">BOOTPROTO=dhcp //启动该网卡的方式，dhcp 表示通过 BOOTP 或 DHCP 协议动态取得 IP 地址。 </span><br><span class="line">ONBOOT=yes //启动 network 服务时，是否启动该网卡。</span><br><span class="line"></span><br><span class="line">TYPE=Ethernet //网卡的类型。 </span><br><span class="line"></span><br><span class="line">IPADDR=192.168.64.128 //静态方式指定网卡的 IP 地址 </span><br><span class="line"></span><br><span class="line">NETMASK=255.255.255.0 //定义网卡的子网掩码 </span><br><span class="line"></span><br><span class="line">MTU=1500 //网卡传输的最大数据包 </span><br><span class="line"></span><br><span class="line">GATEWAY=192.168.64.254 //网络的默认网关 </span><br><span class="line">DNS1=</span><br></pre></td></tr></table></figure>

<p>实例</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">TYPE=Ethernet</span><br><span class="line">PROXY_METHOD=none</span><br><span class="line">BROWSER_ONLY=no</span><br><span class="line">BOOTPROTO=dhcp</span><br><span class="line">DEFROUTE=yes</span><br><span class="line">IPV4_FAILURE_FATAL=no</span><br><span class="line">IPV6INIT=yes</span><br><span class="line">IPV6_AUTOCONF=yes</span><br><span class="line">IPV6_DEFROUTE=yes</span><br><span class="line">IPV6_FAILURE_FATAL=no</span><br><span class="line">IPV6_ADDR_GEN_MODE=stable-privacy</span><br><span class="line">NAME=eth0</span><br><span class="line">IPADD=192.168.199.129</span><br><span class="line">DNS1=192.168.199.2</span><br><span class="line">UUID=74f0b9ff-58d8-4166-add5-710e912ba2e5</span><br><span class="line">DEVICE=eth0</span><br><span class="line">ONBOOT=no</span><br><span class="line">ZONE=</span><br></pre></td></tr></table></figure>

<h2 id="2、配置网卡信息"><a href="#2、配置网卡信息" class="headerlink" title="2、配置网卡信息"></a>2、配置网卡信息</h2><h3 id="（1）直接修改网卡配置文件"><a href="#（1）直接修改网卡配置文件" class="headerlink" title="（1）直接修改网卡配置文件"></a>（1）直接修改网卡配置文件</h3><p> #vim /etc/sysconfig/network-scripts ifcfg-ens33 </p>
<p>修改完成后重启服务才生效 #systemctl restart network.service </p>
<h3 id="（2）ifconfig-命令"><a href="#（2）ifconfig-命令" class="headerlink" title="（2）ifconfig 命令"></a>（2）ifconfig 命令</h3><p> ①查看网卡信息 命令格式：ifconfig [选项] </p>
<p>​     无选项：显示当前活动的网卡。</p>
<p>   –a ：显示系统中所有网卡配置信息。 </p>
<p>   网卡设备名：显示指定网卡配置信息。</p>
<p>②设置 IP 地址（临时的） </p>
<p>   命令格式：ifconfig 网卡设备名 IP 地址 netmask 子网掩码 </p>
<p>③ 修改网卡的 MAC 地址（先禁用网卡，修改后重启网卡） </p>
<p>   命令格式：ifconfig 网卡设备名 hw ether MAC 地址</p>
<h3 id="（3）网卡常用命令"><a href="#（3）网卡常用命令" class="headerlink" title="（3）网卡常用命令"></a>（3）网卡常用命令</h3><p>① ifdown（禁用网卡） </p>
<p>命令格式：ifdown 网卡设备名</p>
<p>② ifup（重启网卡） </p>
<p>命令格式：ifup 网卡设备名 </p>
<p>③绑定 IP 和 MAC 地址 </p>
<p>【举例】创建/etc/ethers 文件，将 193.168.168.154 与 00：0C：29：03：F3：75 网卡绑定。 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#echo “193.168.168.154 00：0C：29：03：F3：75” &gt;&gt;/etc/ethers #arp -f</span><br></pre></td></tr></table></figure>

<h1 id="三、客户端域名解析服务器的配置"><a href="#三、客户端域名解析服务器的配置" class="headerlink" title="三、客户端域名解析服务器的配置"></a>三、客户端域名解析服务器的配置</h1><p>在 Linux 系统中客户端域名解析服务器的配置文件是<strong>/etc/resolv.conf</strong></p>
<p>文件内容格式：nameserver 指定 DNS 服务器的 IP 地址。 </p>
<p>最多可同时指定 3 个 DNS 服务器的 IP 地址，根据 nameserver 的配置顺序决定搜索。可 以使用 domain 来指定当前主机所在域的域名。 </p>
<p>为 避 免 /etc/resolv.conf 文 件 的 内 容 被 系 统 修 改 或 覆 盖 ， 需 要 修 改 /etc/NetworkManager/NetworkManager.conf 文件，在 main 部分添加“dns=none”选项。 </p>
<p>修改后的 NetworkManager.conf 文件的内容如下所示： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[main] </span><br><span class="line"></span><br><span class="line">plugins=ifcfg-rh </span><br><span class="line"></span><br><span class="line">dns=none</span><br></pre></td></tr></table></figure>

<p>在完成修改后，需要执行命令：</p>
<p> #systemctl restart NetworkManager.service </p>
<p>重新装载 NetworkManager 的配置。此时客户端域名解析服务器设置完成</p>
<h1 id="四、常用网络调试命令与故障排查"><a href="#四、常用网络调试命令与故障排查" class="headerlink" title="四、常用网络调试命令与故障排查"></a>四、常用网络调试命令与故障排查</h1><h2 id="1．-ping-命令"><a href="#1．-ping-命令" class="headerlink" title="1．*ping *命令"></a>1．*<em>ping *</em>命令</h2><p>测试网络中是否畅通以及网络质量。 </p>
<p>命令格式：*<em>ping [选项] 对方 IP 地址 *</em></p>
<p>选项说明： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-c : 指定向目的主机发送多少个报文。 </span><br><span class="line"></span><br><span class="line">-s :指定发送报文的大小，以字节为单位。</span><br><span class="line"></span><br><span class="line"> -W: 设置等待接收回应报文的时间间隔，以秒为单位。</span><br></pre></td></tr></table></figure>

<h2 id="2．netstat-命令："><a href="#2．netstat-命令：" class="headerlink" title="2．netstat 命令："></a>2．<strong>netstat</strong> 命令：</h2><p>显示网络连接、路由表、正在监听的端口等信息。 </p>
<p>命令格式：netstat [选项] 选项说明：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> -l : 显示正在监听的服务或端口。</span><br><span class="line"></span><br><span class="line">-a : 显示当前主机开放的所有端口 </span><br><span class="line"></span><br><span class="line">-n : 不进行域名解析。 </span><br><span class="line"></span><br><span class="line">-p : 显示端口是由哪个进程和程序在监听。</span><br><span class="line"></span><br><span class="line"> -c : 动态显示网络连接和端口监听信息。 </span><br><span class="line"></span><br><span class="line">-i : 显示网卡相关信息。 </span><br><span class="line"></span><br><span class="line">-r : 显示当前主机的路由表信息。</span><br></pre></td></tr></table></figure>

<h2 id="3．traceroute-命令：路由跟踪。"><a href="#3．traceroute-命令：路由跟踪。" class="headerlink" title="3．traceroute 命令：路由跟踪。"></a>3．<strong>traceroute</strong> 命令：路由跟踪。</h2><p>命令格式：*<em>traceroute 目的 IP 地址 *</em></p>
<h2 id="4．nslookup-命令"><a href="#4．nslookup-命令" class="headerlink" title="4．nslookup 命令"></a>4．<strong>nslookup</strong> 命令</h2><p>检测指定的 DNS 服务器工作是否正常 </p>
<p>命令格式：nslookup</p>
<h1 id="课程小结"><a href="#课程小结" class="headerlink" title="课程小结"></a>课程小结</h1><p>1、主机名与网卡信息的配置 </p>
<p>2、客户端域名解析服务器的配置 </p>
<p>3、网络故障排查方法</p>
<h1 id="课后作业"><a href="#课后作业" class="headerlink" title="课后作业"></a>课后作业</h1><p>1、 临时设置主机名为：myhost。 </p>
<p>2、 设置网卡信息： IP地址为202.137.5.6，网关是202.137.5.1，子网掩码是255.255.255.0， 设置域名解析服务器为 216.128.5.132。 </p>
<p>3、 对每一步的设置，管理员都要做相应的查看以确认设置是否成功。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/系统安全/">系统安全</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-应急响应笔记大纲" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2019/09/08/应急响应笔记大纲/" class="article-date">
      <time datetime="2019-09-08T08:00:57.133Z" itemprop="datePublished">2019-09-08</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p><img src="https://bypass007.github.io/Emergency-Response-Notes/Summary/image/sum-title.png" alt></p>
<h3 id="项目介绍"><a href="#项目介绍" class="headerlink" title="项目介绍"></a>项目介绍</h3><p>面对各种各样的安全事件，我们该怎么处理？</p>
<p>这是一个关于安全事件应急响应的项目，从系统入侵到事件处理，收集和整理了一些案例进行分析。</p>
<p>我将持续更新这份笔记，希望能帮到有需要的人。</p>
<h3 id="项目目录"><a href="#项目目录" class="headerlink" title="项目目录"></a>项目目录</h3><ul>
<li><p><strong>[第一章：应急响应]</strong></p>
</li>
<li><p>第1篇:Window入侵排查</p>
</li>
<li><p>第2篇:Linux入侵排查</p>
</li>
<li><p><strong>[第二章：日志分析]</strong></p>
<ul>
<li><p>第1篇:Window日志分析</p>
<ul>
<li>第2篇:Linux日志分析 </li>
</ul>
</li>
</ul>
</li>
<li><p>第3篇:Web日志分析</p>
</li>
<li><p>第4篇:MSSQL日志分析 </p>
<ul>
<li>第5篇:MySQL日志分析</li>
</ul>
</li>
<li><p><strong>[第三章:Windows实战篇]</strong></p>
<ul>
<li><p>第1篇：FTP暴力破解</p>
</li>
<li><p>第2篇：蠕虫病毒</p>
</li>
<li><p>第3篇：勒索病毒</p>
</li>
<li><p>第4篇：ARP病毒</p>
</li>
<li><p>第5篇：挖矿病毒（一）</p>
</li>
<li><p>第6篇：挖矿病毒（二）</p>
</li>
</ul>
</li>
<li><p><strong>[第四章：Linux实战篇]</strong></p>
<ul>
<li><p>第1篇：SSH暴力破解</p>
</li>
<li><p>第2篇：捕捉短连接</p>
</li>
<li><p>第3篇：挖矿病毒</p>
</li>
<li><p>第4篇：盖茨木马</p>
</li>
<li><p>第5篇：DDOS病毒</p>
</li>
<li><p>第6篇：Shell病毒</p>
</li>
</ul>
</li>
<li><p><strong>[第五章：Web实战篇]</strong></p>
<ul>
<li><p>第1篇：网站被植入Webshell</p>
</li>
<li><p>第2篇：门罗币恶意挖矿</p>
</li>
<li><p>第3篇：批量挂黑页</p>
</li>
<li><p>第4篇：新闻源网站劫持</p>
</li>
<li><p>第5篇：移动端劫持</p>
</li>
<li><p>第6篇：搜索引擎劫持</p>
</li>
<li><p>第7篇：网站首页被篡改</p>
</li>
<li><p>第8篇：管理员账号被篡改</p>
</li>
</ul>
</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-09-08用户与组的管理" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2019/09/04/09-08用户与组的管理/" class="article-date">
      <time datetime="2019-09-04T09:18:20.000Z" itemprop="datePublished">2019-09-04</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2019/09/04/09-08用户与组的管理/">用户与组的管理</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <a id="more"></a>

<h1 id="1-用户与用户组概念"><a href="#1-用户与用户组概念" class="headerlink" title="1.用户与用户组概念"></a>1.用户与用户组概念</h1><p>Linux 是一个多用户、多任务的服务器操作系统。Linux 用户是根据角色定义的，具体分 为三种角色：</p>
<p> 超级用户：拥有对系统的最高管理权限，默认是 root 用户。</p>
<p> 普通用户：只能对自己目录下的文件进行访问和修改，具有登录系统的权限。 </p>
<p>虚拟用户：也叫“伪”用户，这类用户最大的特点是不能登录系统，它们的存在主要是 方便系统管理，满足相应的系统进程对文件属主的要求。<br>主要组（主组）：每个用户有且只有一个主要组，创建用户时默认创建。</p>
<p> 附属组（补充组）：用户可以是零个或多个附属组成员。一般用于帮助确保用户具有对 系统中文件及其他资源的访问权限</p>
<h1 id="2、用户配置文件"><a href="#2、用户配置文件" class="headerlink" title="2、用户配置文件"></a>2、用户配置文件</h1><p>（1）用户配置文件/etc/passwd，在 passwd 配置文件中，从左到右各个字段的含义如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">用户名：用户登录系统时使用的用户名。</span><br><span class="line">口令：存放加密的口令，被/etc/shadow 文件保护。 </span><br><span class="line">用户标识号(UID)：系统内部用它来标识用户，每个用户的 UID 都是唯一的。 </span><br><span class="line">用户组标识号(GID)：系统内部用它来标识用户所属的组，这里的 GID 是主组 GID。 </span><br><span class="line">注释性描述：为了方便管理和记忆该用户而添加的信息。 用户主目录：也称家目录，用户登录系统后所进入的目录。</span><br><span class="line">命令解释器：指示该用户使用的 Shell，CentOS Linux 7 默认的是 bash。如果指定 Shell 为/sbin/nologin，则代表用户无法登录系统。</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat /etc/passwd</span><br><span class="line">host:x:1000:1000:root:/home/host:/bin/bash</span><br><span class="line">student:x:1001:1001::/home/student:/bin/bash</span><br><span class="line">stu2:x:1002:1002::/home/stu2:/bin/bash</span><br><span class="line">stu3:x:1003:1003::/home/stu3:/bin/bash</span><br><span class="line">stu4:x:1004:1004::/home/stu4:/bin/bash</span><br><span class="line">stu5:x:1005:1005::/home/stu5:/bin/bash</span><br></pre></td></tr></table></figure>

<p><img src="https://ws1.sinaimg.cn/large/007ru3v0gy1g6r3l3x5t7j30cj039dfq.jpg" alt="\img"></p>
<p>（2）用户密码配置文件/etc/shadow</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">用户名：用户账户名。 </span><br><span class="line">密码：用户的加密密码。</span><br><span class="line">最后一次修改的时间：从 1970 年 1 月 1 日起，到用户最后一次更改密码的天数。</span><br><span class="line">最小时间间隔：从 1970 年 1 月 1 日起，到用户可以更改密码的天数，(0 表示随时可以变更)。 </span><br><span class="line">最大时间间隔：从 1970 年 1 月 1 日起，到必须更改密码的天数，否则密码将过期，(99999 表示永远不 过期)。 警告时间：在密码过期之前多少天提醒用户更新，默认值是 7 天。 不活动时间：在用户密码过期之后到禁用账户的天数。</span><br><span class="line">失效时间：从 1970 年 1 月 1 日起，到账户被禁用的天数。 标志：保留位。</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat /etc/shadow</span><br><span class="line">root:$6$JU.c5THlJ2kmlzRx$9H/TrK2wGfsWYUuQWc0iIuLXw4qP5Kv05nKDJ0PN73cf9E/lupRWZvijHKBinbQQrMGalsEioejlqIlpCsoW91::0:99999:7:::</span><br><span class="line">bin:*:17834:0:99999:7:::</span><br><span class="line">daemon:*:17834:0:99999:7:::</span><br><span class="line">adm:*:17834:0:99999:7:::</span><br><span class="line">lp:*:17834:0:99999:7:::</span><br><span class="line">sync:*:17834:0:99999:7:::</span><br><span class="line">shutdown:*:17834:0:99999:7:::</span><br><span class="line">halt:*:17834:0:99999:7:::</span><br><span class="line">mail:*:17834:0:99999:7:::</span><br><span class="line">...</span><br><span class="line">host:$6$FR0ZFhAfSy12p0.X$KpDrpp1xfoJvan0Dee6Lhl2HqMOTqckqHEy33F6otLnAXfZovhsqcKQDUrhAiSxYxWtSqsxKWBqqYwaJoMkLH0:18142:0:99999:7:::</span><br><span class="line">student:!!:18143:0:99999:7:::</span><br><span class="line">stu2:!!:18143:0:99999:7:::</span><br><span class="line">stu3:!!:18143:0:99999:7:::</span><br><span class="line">stu4:!!:18143:0:99999:7:::</span><br><span class="line">stu5:!!:18143:0:99999:7:::</span><br></pre></td></tr></table></figure>

<h1 id="3、用户组配置文件"><a href="#3、用户组配置文件" class="headerlink" title="3、用户组配置文件"></a>3、用户组配置文件</h1><p>（1）用户组配置文件/etc/group，文件中各字段的含义从左到右分别是： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">组名：组的名称。 </span><br><span class="line">组口令：用户组的口令，用 x 表示口令是被/etc/gshadow 文件保护的。 </span><br><span class="line">组标识号(GID)：系统内部用它来标识用户组，每个用户组的 GID 都是唯一的。 </span><br><span class="line">组成员：该组的成员。</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat /etc/group</span><br><span class="line">root:x:0:</span><br><span class="line">bin:x:1:</span><br><span class="line">daemon:x:2:</span><br><span class="line">sys:x:3:</span><br><span class="line">adm:x:4:</span><br><span class="line">tty:x:5:</span><br><span class="line">disk:x:6:</span><br><span class="line">...</span><br><span class="line">host:x:1000:</span><br><span class="line">student:x:1001:</span><br><span class="line">stu2:x:1002:</span><br><span class="line">stu3:x:1003:</span><br><span class="line">stu4:x:1004:</span><br><span class="line">stu5:x:1005:</span><br></pre></td></tr></table></figure>

<p>（2）用户组密码配置文件/etc/gshadow，文件中各字段的含义从左到右分别是：</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">组名：组的名称。 </span><br><span class="line">组口令：用户组的口令，保存已加密的口令。 </span><br><span class="line">组的管理员帐号：组的管理员帐号，管理员有权对该组添加、删除帐号。 </span><br><span class="line">组成员：该组的成员，多个用户用“，”分开</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat /etc/gshadow</span><br><span class="line">root:::</span><br><span class="line">bin:::</span><br><span class="line">daemon:::</span><br><span class="line">sys:::</span><br><span class="line">adm:::</span><br><span class="line">tty:::</span><br><span class="line">disk:::</span><br><span class="line">...</span><br><span class="line">host:!::</span><br><span class="line">student:!::</span><br><span class="line">stu2:!::</span><br><span class="line">stu3:!::</span><br><span class="line">stu4:!::</span><br><span class="line">stu5:!::</span><br><span class="line">[root@loca</span><br></pre></td></tr></table></figure>

<h1 id="4、用户管理"><a href="#4、用户管理" class="headerlink" title="4、用户管理"></a>4、用户管理</h1><p>（1）用 useradd 命令创建用户 命令格式：useradd [选项] 用户名<br>选项 功能说明</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-d 指定用户主目录</span><br><span class="line">-g 指定用户组</span><br><span class="line">-m 若主目录不存在，则创建</span><br><span class="line">-M 不创建主目录</span><br><span class="line">-s 指定登录时使用的 Shell 类型，默认为/bin/bash，如果为 /bin/nologin 就是虚拟用户</span><br><span class="line">-c 设置对该账号的注释说明文字</span><br><span class="line">-r 创建系统账号(用户 ID 小于 1000， 从 999 起按照递减的顺序创建)， 默认不创建对应的主目录</span><br><span class="line">-u 手工指定新用户的 ID 值，该值必须唯一，且大于 999。</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">[root@localhost ~]# useradd -u 500 stu5</span><br><span class="line">useradd：用户“stu5”已存在</span><br><span class="line">[root@localhost ~]# useradd -u 500 student2</span><br><span class="line">[root@localhost ~]# cat /etc/passwd</span><br><span class="line">student2:x:500:1009::/home/student2:/bin/bash</span><br></pre></td></tr></table></figure>

<p>#useradd stu1 分为三步</p>
<p> 新建一个名为 stu1 的用户 </p>
<p>创建 stu1 的基本组为 stu1 </p>
<p>创建主目录：/home/stu1</p>
<p>（3）用 passwd 命令管理用户登录密码 root 用户可以为任何用户设置密码，普通用户默认情况下只能为自己设置密码。 命令格式：passwd [选项] [用户名称] 选项 功能说明</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-l 锁定用户密码</span><br><span class="line">-u 解锁用户密码</span><br><span class="line">-S 查询用户密码状态</span><br><span class="line">-d 删除用户密码</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# passwd -S stu5</span><br><span class="line">stu5 LK 2019-09-04 0 99999 7 -1 (密码已被锁定。)</span><br><span class="line">[root@localhost ~]# passwd -u stu5</span><br><span class="line">解锁用户 stu5 的密码。</span><br><span class="line">passwd: 警告：未锁定的密码将是空的。</span><br><span class="line">passwd: 不安全的操作(使用 -f 参数强制进行该操作)</span><br><span class="line">[root@localhost ~]# passwd -u -f stu5</span><br><span class="line">解锁用户 stu5 的密码。</span><br><span class="line">passwd: 操作成功</span><br><span class="line">[root@localhost ~]# passwd -l stu5</span><br><span class="line">锁定用户 stu5 的密码 。</span><br><span class="line">passwd: 操作成功</span><br><span class="line">[root@localhost ~]# passwd -d stu5</span><br><span class="line">清除用户的密码 stu5。</span><br><span class="line">passwd: 操作成功</span><br><span class="line">[root@localhost ~]#</span><br></pre></td></tr></table></figure>

<p>【举例 1】创建用户 zhangsan,指定登录类型为/bin/bash;用户 lisi，登录类型为 /sbin/nologin,并分别设置密码为：123456。并测试两个用户能否登录系统。 #useradd -s /bin/bash zhangsan #useradd -s /bin/nologin lisi </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# useradd -s /bin/bash zhangsan</span><br><span class="line">[root@localhost ~]# useradd -s /bin/nologin lisi</span><br><span class="line">[root@localhost ~]# su zhangsan</span><br><span class="line">[zhangsan@localhost root]$ su lisi</span><br><span class="line">密码：</span><br><span class="line">12345su: 鉴定故障</span><br><span class="line">[zhangsan@localhost root]$ 123456</span><br><span class="line">bash: 123456: 未找到命令...</span><br><span class="line">[zhangsan@localhost root]$</span><br></pre></td></tr></table></figure>

<p>【举例 2】创建用户 tom，并设置 tom 的真实姓名为:tom-sing,家庭电话：13911202319，公 司地址：tf5jie,公司电话：028-85699999 #useradd -c “tom-sing 13911202319 tf5jie 028-85699999” tom</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# useradd -c &quot;tom-sing 139112022319 tf5jie 028-85699999&quot; tom</span><br><span class="line">[root@localhost ~]# cat /etc/passwd</span><br><span class="line">tom:x:1010:1010:tom-sing 139112022319 tf5jie 028-85699999:/home/tom:/bin/bash</span><br></pre></td></tr></table></figure>

<p>删除用户</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# userdel tom</span><br><span class="line">[root@localhost ~]# userdel lisi</span><br><span class="line">[root@localhost ~]# userdelstudent1</span><br><span class="line">bash: userdelstudent1: 未找到命令...</span><br><span class="line">[root@localhost ~]# userdel student1</span><br><span class="line">[root@localhost ~]# userdel zhangsan</span><br><span class="line">userdel: user zhangsan is currently used by process 38864</span><br><span class="line">[root@localhost ~]# userdel -r zhangsan</span><br><span class="line">userdel: user zhangsan is currently used by process 38864</span><br><span class="line">[root@localhost ~]# exit</span><br><span class="line">exit</span><br><span class="line">[zhangsan@localhost root]$ exit</span><br><span class="line">exit</span><br><span class="line">[root@localhost ~]# userdel zhangsan</span><br><span class="line">[root@localhost ~]# cat /etc/shadow</span><br><span class="line">student:!!:18143:0:99999:7:::</span><br><span class="line">stu2:!!:18143:0:99999:7:::</span><br><span class="line">stu3:!!:18143:0:99999:7:::</span><br><span class="line">stu4:!!:18143:0:99999:7:::</span><br><span class="line">stu5::18143:0:99999:7:::</span><br><span class="line">student2:!!:18143:0:99999:7:::</span><br><span class="line">student3:!!:18143:0:99999:7:::</span><br></pre></td></tr></table></figure>

<p>【举例 3】# usermod -s /bin/nologin jack</p>
<p>（4）用 userdel 命令删除用户 命令格式：userdel [-r] 用户名</p>
<p> #userdel stu8 只删除用户，但不删除主目录 </p>
<p>#userdel -r stu8 连同主目录一起删除<br>（5）用于修改用户口令有效期限的 chage 命令 命令格式：chage [选项] 用户名 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">选项 功能说明</span><br><span class="line">-m 密码可更改的最小天数。为零时代表任何时候都可以更改密码</span><br><span class="line">-W 用户密码到期前，提前收到警告信息的天数</span><br><span class="line">-M 密码保持有效的最大天数</span><br><span class="line">-E 账号到期的日期。过了这天，此账号将不可用</span><br><span class="line">-d 上一次更改的日期</span><br><span class="line">-I 停滞时期。如果一个密码已过期这些天，那么此账号将不可用</span><br><span class="line">-l 列出当前的设置。由非特权用户来确定他们的密码或账号何时过期</span><br></pre></td></tr></table></figure>

<p>【举例】设置 jack 用户的密码最大有效期为 30 天，提前 9 天警告，失效时间 40 天。</p>
<p> #chage -M 18054 -W 9 -E 18064</p>
<p>（6）修改用户注释信息的 chfn 命令 命令格式：chfn [选项] [用户名]<br>选项 功能说明</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-f 设置真实姓名。</span><br><span class="line">-h 设置家中的电话号码。</span><br><span class="line">-o 设置办公室的地址。</span><br><span class="line">-p 设置办公室的电话号码。</span><br></pre></td></tr></table></figure>

<p>（7）修改用户 Shell 类型的 chsh 命令 命令格式：chsh [-s] [用户名]</p>
<h1 id="5、用户组管理"><a href="#5、用户组管理" class="headerlink" title="5、用户组管理"></a>5、用户组管理</h1><p>（1）用 groupadd 命令创建用户组</p>
<p> 命令格式：groupadd  [r]  用户组名称<br>（2）用 groupmod 命令修改用户组属性 命令格式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">groupmod 选项 组名 选项 功能说明</span><br><span class="line">-n 修改组名</span><br><span class="line">-g 修改组标识号 GID</span><br></pre></td></tr></table></figure>

<p>（4）用 groupdel 命令删除用户组</p>
<p>​    命令格式：groupdel  组名<br>（4）用 gpasswd 命令维护组中成员 </p>
<p>命令格式：gpasswd 选项 用户名 组名 </p>
<p>#gpasswd stu1 为 stu1 组设置密码 选项 功能说明</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-a 添加用户到组。</span><br><span class="line">-d 将用户从组中删除。</span><br><span class="line">-A 设置用户为组管理员。</span><br></pre></td></tr></table></figure>

<p>【举例】新建 yanyan、yuanyuan、lili 三个用户和 teacher 组将 lili 设置为 teacher 组的管理员，那么 lili 就具有向该组添加用户和移除用户的权限。也可以为该 组设置密码，其他用户就可以通过 newgrp 命令切换成该组的成员身份，否则只 有本组成员才能使用该组身份。</p>
<p> #useradd yanyan</p>
<p> #useradd yuanyuan </p>
<p>#useradd lili </p>
<p>#gpasswd -a lili teacher</p>
<p>6、扩展知识<br>（1）查看用户信息的 id 命令 </p>
<p>（2）输出指定用户所在组 groups 命令 #groups stu1 </p>
<p>（3）查看当前登录用户 who am i 命令<br>（4）查看当前用户 w 命令 </p>
<p>（5）查看登录用户 who 命令 </p>
<p>（6）查看登录用户历史 last 命令<br>课程小结：<br>1、用户与用户组概念 超级用户 普通用户 虚拟用户 主组 附加组 </p>
<p>2、用户与组的相关配置文件 </p>
<p>用户配置文件：/etc/passwd /etc/shadow </p>
<p>用户组配置文件：/etc/group /etc/gshadow </p>
<p>3、用户与组的管理 </p>
<p>useradd passwd usermod userdel groupadd gpasswd groupmod groupdel</p>
<h1 id="6、补充"><a href="#6、补充" class="headerlink" title="6、补充"></a>6、补充</h1><h2 id="1、Centos7基本操作"><a href="#1、Centos7基本操作" class="headerlink" title="1、Centos7基本操作"></a>1、Centos7基本操作</h2><p><strong>Linux**</strong>系统是一个多用户多任务的操作系统**</p>
<p><strong>开源免费的，更安全，兼容性更好</strong></p>
<p><strong>[root@localhost ~]#</strong>   <strong>表示当前登录的用户是**</strong>root**</p>
<p><strong>当前登录的用户名</strong></p>
<p><strong>主机名</strong></p>
<p><strong>当前所在的目录</strong></p>
<p><strong>student@localhost root]$</strong>   <strong>当前登录的用户是普通用户</strong> </p>
<p><strong>~</strong> <strong>主目录（每个用户的用户配置文件夹）</strong></p>
<p>   <strong>root</strong> <strong>用户的主目录是**</strong>/root**</p>
<p>   <strong>普通用户的主目录是**</strong>/home/<strong>**用户名</strong></p>
<p><strong>pwd</strong>  <strong>查看当前所在的具体目录位置</strong></p>
<p><strong>[student@localhost /]$ ls</strong></p>
<p><strong>查看当前目录下的文件有哪些</strong></p>
<p><strong>dr-xr-xr-x.</strong>   <strong>5 root root 4096 7**</strong>月**   <strong>8 2019</strong> <strong>boot</strong></p>
<p><strong>文件的类型和权限</strong></p>
<p>   <strong>第一个字符代表文件的类型：**</strong>d - l** </p>
<p>   <strong>后面的字符代表文件的权限</strong></p>
<p><strong>代表的是所有都权限</strong></p>
<p><strong>代表的是所属组的权限</strong></p>
<p><strong>代表的是其他用户的权限</strong></p>
<p> <strong>r</strong> <strong>读</strong>   <strong>w</strong> <strong>写</strong>  <strong>x</strong> <strong>执行</strong>  <strong>-</strong>  <strong>没有权限</strong></p>
<p><strong>改变文件的权限：</strong></p>
<p><strong>字母方式：</strong> <strong>chmod</strong> </p>
<p><strong>mkdir test</strong>   <strong>新建文件，名为</strong> <strong>test</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# chmod u-x test</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# chmod g=rwx test</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# chmod a=rx test</span><br></pre></td></tr></table></figure>

<p><strong>数字方式修改：</strong></p>
<p><strong>[root@localhost ~]# chmod 755 test</strong></p>
<p><strong>修改所有者与属组</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">**[root@localhost ~]# chown student test**</span><br><span class="line"></span><br><span class="line">**[root@localhost ~]# chown :student test**</span><br><span class="line"></span><br><span class="line">**[root@localhost ~]# chown root:root test**</span><br></pre></td></tr></table></figure>

<p><strong>连接文件的数量</strong></p>
<p><strong>文件的所有者（属主）</strong></p>
<p><strong>文件的所属组（属组）</strong></p>
<p><strong>文件的大小（默认单位字节）</strong></p>
<p><strong>文件创建或修改的时间</strong></p>
<p><strong>文件的名字</strong> </p>
<p><strong>cd   ls  -l -a  ll  -lh</strong>  </p>
<p><strong>mkdir</strong>  </p>
<p><strong>touch</strong></p>
<p><strong>rmdir</strong>  <strong>删除空文件夹</strong></p>
<p><strong>rm</strong>  <strong>默认删除文件，不是删除目录</strong></p>
<p><strong># rm -rf c</strong></p>
<p><strong>mv</strong>  <strong>剪切或重命名</strong></p>
<p><strong>cp</strong> <strong>默认是复制文件不是目录</strong> </p>
<p><strong># cp -R /mnt/public/zz /mnt</strong></p>
<p><strong>查看文件内容：</strong></p>
<p>  <strong>cat</strong> </p>
<p>  <strong>more</strong> <strong>分页显示，自动退出</strong></p>
<p><strong>less</strong> <strong>分页显示，</strong> <strong>q</strong> <strong>退出</strong></p>
<p>  <strong>head</strong>  <strong>查看前十行</strong>  <strong>head -3 +**</strong>路径：前三行**</p>
<p>  <strong>tail</strong>      <strong>查看后十行</strong></p>
<p><strong>帮助命令</strong></p>
<p>  <strong>ls –help</strong></p>
<p><strong>man</strong></p>
<p><strong>4、**</strong>查找命令**</p>
<p>  <strong>find</strong>  <strong>相当于</strong> <strong>windows</strong>  <strong>里面的搜索文件</strong> <strong>find+</strong> <strong>查找范围</strong> <strong>+</strong> <strong>查找条件</strong></p>
<p><img src="https://ws1.sinaimg.cn/large/007ru3v0gy1g6sij3v125j30c603yglk.jpg" alt="\img"></p>
<p><strong>查找**</strong>3M<strong>**以上的文件</strong></p>
<p><img src="https://ws1.sinaimg.cn/large/007ru3v0gy1g6sijkzxmkj30b901y746.jpg" alt="\img"></p>
<p>  <strong>grep</strong> <strong>查找内容</strong></p>
<p><strong>包含**</strong>root**</p>
<p><img src="https://ws1.sinaimg.cn/large/007ru3v0gy1g6sijrlaesj30c201ka9y.jpg" alt="\img"></p>
<p>以root开头</p>
<p><img src="https://ws1.sinaimg.cn/large/007ru3v0gy1g6sijxq6emj30bj014dfo.jpg" alt="\img"></p>
<p>文件权限：</p>
<p> R:读  4</p>
<p> W:写  2</p>
<p>X:执行  1</p>
<p>-：无权限  0</p>
<p>Rwx r-x r-x.</p>
<p>属主权限u 属组权限g <strong>其他用户**</strong>0**  <strong>所有**</strong>a**</p>
<p><strong>.**</strong>代表有没有<strong>**ACL</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cd xuelian</span><br><span class="line"></span><br><span class="line">[root@localhost xuelian]# ls</span><br><span class="line"></span><br><span class="line">11.txt  22.txt  33.txt  44.txt</span><br><span class="line"></span><br><span class="line">[root@localhost xuelian]# ll</span><br></pre></td></tr></table></figure>

<p>总用量 0</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">drwxr-xr-x. 4 root root 52 9月   4 07:50 11.txt</span><br><span class="line"></span><br><span class="line">drwxr-xr-x. 2 root root  6 9月   4 07:28 22.txt</span><br><span class="line"></span><br><span class="line">drwxr-xr-x. 2 root root  6 9月   4 07:28 33.txt</span><br><span class="line"></span><br><span class="line">drwxr-xr-x. 2 root root  6 9月   4 07:29 44.txt</span><br><span class="line"></span><br><span class="line">[root@localhost xuelian]# chmod a+wrx 11.txt</span><br><span class="line"></span><br><span class="line">[root@localhost xuelian]# ll</span><br></pre></td></tr></table></figure>

<p>总用量 0</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">drwxrwxrwx. 4 root root 52 9月   4 07:50 11.txt</span><br><span class="line"></span><br><span class="line">drwxr-xr-x. 2 root root  6 9月   4 07:28 22.txt</span><br><span class="line"></span><br><span class="line">drwxr-xr-x. 2 root root  6 9月   4 07:28 33.txt</span><br><span class="line"></span><br><span class="line">drwxr-xr-x. 2 root root  6 9月   4 07:29 44.txt</span><br><span class="line"></span><br><span class="line">[root@localhost xuelian]# chmod 770 11.txt</span><br><span class="line"></span><br><span class="line">[root@localhost xuelian]# ll</span><br></pre></td></tr></table></figure>

<p>总用量 0</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">drwxrwx---. 4 root root 52 9月   4 07:50 11.txt</span><br><span class="line"></span><br><span class="line">drwxr-xr-x. 2 root root  6 9月   4 07:28 22.txt</span><br><span class="line"></span><br><span class="line">drwxr-xr-x. 2 root root  6 9月   4 07:28 33.txt</span><br><span class="line"></span><br><span class="line">drwxr-xr-x. 2 root root  6 9月   4 07:29 44.txt</span><br></pre></td></tr></table></figure>

<h2 id="2-、用户与组的管理"><a href="#2-、用户与组的管理" class="headerlink" title="2**、用户与组的管理**"></a><strong>2**</strong>、用户与组的管理**</h2><p><strong>（1）用户的管理</strong></p>
<p>useradd命令创建用户</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">\#useradd stu1</span><br><span class="line"></span><br><span class="line">\#useradd -s /bin/nologin stu1</span><br><span class="line"></span><br><span class="line">**# usermod -s /bin/nologin stu1**</span><br></pre></td></tr></table></figure>

<p><strong>-s:**</strong>指定登录类型。**</p>
<p><strong>为用户设置密码：**</strong>passwd** </p>
<p>   <strong>如果是**</strong>root<strong>**用户操作，那么它可以设置任何用户的密码。</strong></p>
<p>   <strong>如果是普通用户呢？如果是一个组的管理员，它可以设置本组用户的密码</strong></p>
<p>​                     <strong>如果是普通用户，只能设置自己的密码</strong></p>
<p><strong>如果从**</strong>root<strong>**用户切换到普通用户，是不需要输入密码的。</strong></p>
<p><strong>如果是普通用户切换到其他用户是需要输入密码的。</strong></p>
<p><strong>sbit:**</strong>粘滞位权限**</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">**[root@localhost xuelian]# su stu2**</span><br><span class="line"></span><br><span class="line">**[stu2@localhost xuelian]$ cd sbit**</span><br><span class="line"></span><br><span class="line">**[stu2@localhost sbit]$ touch 1.txt**</span><br><span class="line"></span><br><span class="line">**[stu2@localhost sbit]$ touch 2.txt**</span><br><span class="line"></span><br><span class="line">**[stu2@localhost sbit]$ exit**</span><br><span class="line"></span><br><span class="line">**[root@localhost xuelian]# su stu3**</span><br><span class="line"></span><br><span class="line">**[stu3@localhost xuelian]$ cd sbit**</span><br><span class="line"></span><br><span class="line">**[stu3@localhost sbit]$ touch stu3.txt**</span><br><span class="line"></span><br><span class="line">**[stu3@localhost sbit]$ ll**</span><br><span class="line"></span><br><span class="line">**总用量** **0**</span><br><span class="line"></span><br><span class="line">**-rw-rw-r--. 1 stu2 stu2 0 9****月**   **4 19:16 1.txt**</span><br><span class="line"></span><br><span class="line">**-rw-rw-r--. 1 stu2 stu2 0 9****月**   **4 19:16 2.txt**</span><br><span class="line"></span><br><span class="line">**-rw-rw-r--. 1 stu3 stu3 0 9****月**   **4 19:17 stu3.txt**</span><br><span class="line"></span><br><span class="line">**[stu3@localhost sbit]$**</span><br><span class="line"></span><br><span class="line"> **[stu3@localhost sbit]$ rm -rf 1.txt**</span><br><span class="line"></span><br><span class="line">**[stu3@localhost sbit]$ ll**</span><br><span class="line"></span><br><span class="line">**总用量** **0**</span><br><span class="line"></span><br><span class="line">**-rw-rw-r--. 1 stu2 stu2 0 9****月**   **4 19:16 2.txt**</span><br><span class="line"></span><br><span class="line">**-rw-rw-r--. 1 stu3 stu3 0 9****月**   **4 19:17 stu3.txt**</span><br><span class="line"></span><br><span class="line">**[stu3@localhost sbit]$ chmod 0+t sbit/**</span><br><span class="line"></span><br><span class="line">**[stu3@localhost sbit]$ chmod o+t sbit/**</span><br><span class="line"></span><br><span class="line">**chmod:** **无法访问****&quot;sbit/&quot;:** **没有那个文件或目录**</span><br><span class="line"></span><br><span class="line">**[stu3@localhost sbit]$ chmod o+t sbit**</span><br><span class="line"></span><br><span class="line">**chmod:** **无法访问****&quot;sbit&quot;:** **没有那个文件或目录**   **//****加权限必须是****ROOT****下**</span><br><span class="line"></span><br><span class="line">**[root@localhost xuelian]# chmod o+t sbit**</span><br><span class="line"></span><br><span class="line">**[root@localhost xuelian]# ll**</span><br><span class="line"></span><br><span class="line">**总用量** **0**</span><br><span class="line"></span><br><span class="line">**drwxrwx---. 4 root root 52 9****月**   **4 07:50 11.txt**</span><br><span class="line"></span><br><span class="line">**drwxr-xr-x. 2 root root  6 9****月**   **4 07:28 22.txt**</span><br><span class="line"></span><br><span class="line">**drwxr-xr-x. 2 root root  6 9****月**   **4 07:28 33.txt**</span><br><span class="line"></span><br><span class="line">**drwxr-xr-x. 2 root root  6 9****月**   **4 07:29 44.txt**</span><br><span class="line"></span><br><span class="line">**drwxrwxrwt. 2 root root 35 9****月**   **4 19:18 sbit //****多了个****t** **如果原来有****x****权限，加的就是****t,****如果没有，就是加****T**</span><br></pre></td></tr></table></figure>

<p><strong>删除用户：</strong> userdel [-r] 用户名</p>
<p><strong>修改用户：</strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">**usermod -l**  **修改用户名**</span><br><span class="line"></span><br><span class="line">​          **usermod -L** **锁定用户**</span><br><span class="line"></span><br><span class="line">​           **usermod -U** **解锁用户**</span><br></pre></td></tr></table></figure>

<p><strong>（2）用户组的管理</strong> </p>
<p>新建用户组：groupadd</p>
<p>组用户管理：gpasswd</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>功能说明</th>
</tr>
</thead>
<tbody><tr>
<td>-a</td>
<td>添加用户到组。</td>
</tr>
<tr>
<td>-d</td>
<td>将用户从组中删除。</td>
</tr>
<tr>
<td>-A</td>
<td>设置用户为组管理员。</td>
</tr>
</tbody></table>
<p>为用户组设置密码：gpasswd </p>
<p>普通用户临时加入到组，并享有组的权限：newgroup</p>
<p>人事部有两个员工（rs1 rs2),其中rs1为组rsb的管理员，rsb组的密码是：123456</p>
<p>/mnt/rsb文件 drwxr-x— rs1 rsb</p>
<p>现在有一个员工：zjl  想有临时权限查看rsb目录中的文件？</p>
<p><strong>3**</strong>、特殊权限**</p>
<p><strong>ACL:**</strong>是针对其他用户当中的个别或部份用户设置的权限**</p>
<p><strong>setfacl -m</strong>   <strong>创建</strong></p>
<p><strong>setfacl -x</strong>    <strong>删除一条</strong></p>
<p><strong>stfacl -b</strong>    <strong>删除所有</strong></p>
<p><strong>getfacl</strong>     <strong>查看</strong></p>
<p><strong>SBIT**</strong>：<strong>**chmod  o+t</strong></p>
<p><strong>SGID**</strong>：<strong>**chmod g+s</strong></p>
<p><strong>4**</strong>、今日任务** </p>
<p><strong>项目一组：</strong></p>
<p><strong>用户组：**</strong>xm1z**</p>
<p><strong>用户：**</strong>xm11 (<strong><strong>组管理员</strong></strong>) xm12**</p>
<p><strong>文件：**</strong>/mnt/xm1z**</p>
<p><strong>项目二组：</strong></p>
<p><strong>用户组：**</strong>xm2z**</p>
<p><strong>用户：**</strong>xm21 (<strong><strong>组管理员</strong></strong>) xm22**</p>
<p><strong>文件：**</strong>/mnt/xm2z**</p>
<p><strong>管理团队用户：</strong></p>
<p><strong>用户组：**</strong>glz**</p>
<p><strong>用户：**</strong>xmjl<strong>**（项目经理）</strong>  <strong>rsjl**</strong>（人事经理）**  <strong>xmzl**</strong>（经理助理）**</p>
<p><strong>文件：**</strong>/mnt/wan19**</p>
<p><strong>要求：</strong></p>
<p><strong>每组的文件夹只允许本组的同学访问，并可以读写文件，并且建立的文件所属组为员工所在的组，但只能删除自己的文件，不能删除别人的文件。其他组的同学对本组的文件没有任何权限。其中管理团队的**</strong>xmjl<strong>**对各组文件具有读写执行的权限。</strong></p>
<p><strong>每组的管理员可以管理本组员工的帐号。</strong></p>
<p><strong>请每位同学按照功能实现，并将实现步骤截图整理成文档，保存为自己的名字，发给组长，由组长打包发送至班组群里。</strong></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/系统安全/">系统安全</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-08-24第1篇：Window入侵排查" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2019/09/04/08-24第1篇：Window入侵排查/" class="article-date">
      <time datetime="2019-09-04T01:09:51.645Z" itemprop="datePublished">2019-09-04</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2019/09/04/08-24第1篇：Window入侵排查/">window入侵排查</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <a id="more"></a>

<h2 id="第1篇：window入侵排查"><a href="#第1篇：window入侵排查" class="headerlink" title="第1篇：window入侵排查"></a>第1篇：window入侵排查</h2><h3 id="0x00-前言"><a href="#0x00-前言" class="headerlink" title="0x00 前言"></a>0x00 前言</h3><p>当企业发生黑客入侵、系统崩溃或其它影响业务正常运行的安全事件时，急需第一时间进行处理，使企业的网络信息系统在最短时间内恢复正常工作，进一步查找入侵来源，还原入侵事故过程，同时给出解决方案与防范措施，为企业挽回或减少经济损失。  </p>
<p>常见的应急响应事件分类：</p>
<p>web入侵：网页挂马、主页篡改、Webshell</p>
<p>系统入侵：病毒木马、勒索软件、远控后门</p>
<p>网络攻击：DDOS攻击、DNS劫持、ARP欺骗</p>
<p>针对常见的攻击事件，结合工作中应急响应事件分析和解决的方法，总结了一些Window服务器入侵排查的思路。</p>
<h3 id="0x01-入侵排查思路"><a href="#0x01-入侵排查思路" class="headerlink" title="0x01 入侵排查思路"></a>0x01 入侵排查思路</h3><h4 id="1-1-检查系统账号安全"><a href="#1-1-检查系统账号安全" class="headerlink" title="1.1 检查系统账号安全"></a>1.1 检查系统账号安全</h4><p>1、查看服务器是否有弱口令，远程管理端口是否对公网开放。</p>
<ul>
<li>检查方法：据实际情况咨询相关服务器管理员。</li>
</ul>
<p>2、查看服务器是否存在可疑账号、新增账号。</p>
<ul>
<li>检查方法：打开 cmd 窗口，输入<code>lusrmgr.msc</code>命令，查看是否有新增/可疑的账号，如有管理员群组的（Administrators）里的新增账户，如有，请立即禁用或删除掉。 </li>
</ul>
<p>3、查看服务器是否存在隐藏账号、克隆账号。</p>
<ul>
<li><p>检查方法：</p>
<p>a、打开注册表 ，查看管理员对应键值。</p>
<p>b、使用D盾_web查杀工具，集成了对克隆账号检测的功能。</p>
</li>
</ul>
<p><img src="./image/sum-1-1.png" alt></p>
<p>4、结合日志，查看管理员登录时间、用户名是否存在异常。</p>
<ul>
<li><p>检查方法：</p>
<p>a、Win+R打开运行，输入“eventvwr.msc”，回车运行，打开“事件查看器”。</p>
<p>b、导出Windows日志–安全，利用Log Parser进行分析。</p>
</li>
</ul>
<p><img src="./image/sum-1-2.png" alt></p>
<h4 id="1-2-检查异常端口、进程"><a href="#1-2-检查异常端口、进程" class="headerlink" title="1.2 检查异常端口、进程"></a>1.2 检查异常端口、进程</h4><p>1、检查端口连接情况，是否有远程连接、可疑连接。</p>
<ul>
<li><p>检查方法：</p>
<p>a、netstat -ano 查看目前的网络连接，定位可疑的ESTABLISHED </p>
<p>b、根据netstat 定位出的pid，再通过tasklist命令进行进程定位 tasklist  | findstr “PID”</p>
</li>
</ul>
<p><img src="./image/sum-1-3.png" alt></p>
<p>2、进程</p>
<ul>
<li><p>检查方法：</p>
<p>a、开始–运行–输入msinfo32，依次点击“软件环境→正在运行任务”就可以查看到进程的详细信息，比如进程路径、进程ID、文件创建日期、启动时间等。</p>
<p>b、打开D盾_web查杀工具，进程查看，关注没有签名信息的进程。</p>
<p>c、通过微软官方提供的 Process Explorer 等工具进行排查 。</p>
<p>d、查看可疑的进程及其子进程。可以通过观察以下内容：</p>
<pre><code>没有签名验证信息的进程
没有描述信息的进程
进程的属主
进程的路径是否合法
CPU或内存资源占用长时间过高的进程</code></pre></li>
</ul>
<p>3、小技巧：</p>
<p>​    a、查看端口对应的PID： netstat -ano | findstr “port”</p>
<p>​    b、查看进程对应的PID：任务管理器–查看–选择列–PID 或者  tasklist  | findstr “PID”</p>
<p>​    c、查看进程对应的程序位置：</p>
<p>​        任务管理器–选择对应进程–右键打开文件位置</p>
<p>​        运行输入 wmic，cmd界面 输入  process</p>
<p>​    d、tasklist /svc   进程–PID–服务</p>
<p>​    e、查看Windows服务所对应的端口：<br>​        %system%/system32/drivers/etc/services（一般%system%就是C:\Windows）</p>
<h4 id="1-3-检查启动项、计划任务、服务"><a href="#1-3-检查启动项、计划任务、服务" class="headerlink" title="1.3 检查启动项、计划任务、服务"></a>1.3 检查启动项、计划任务、服务</h4><p>1、检查服务器是否有异常的启动项。</p>
<ul>
<li><p>检查方法：</p>
<p>a、登录服务器，单击【开始】&gt;【所有程序】&gt;【启动】，默认情况下此目录在是一个空目录，确认是否有非业务程序在该目录下。<br>b、单击开始菜单 &gt;【运行】，输入 msconfig，查看是否存在命名异常的启动项目，是则取消勾选命名异常的启动项目，并到命令中显示的路径删除文件。<br>c、单击【开始】&gt;【运行】，输入 regedit，打开注册表，查看开机启动项是否正常，特别注意如下三个注册表项：<br>HKEY_CURRENT_USER\software\micorsoft\windows\currentversion\run<br>HKEY_LOCAL_MACHINE\Software\Microsoft\Windows\CurrentVersion\Run<br>HKEY_LOCAL_MACHINE\Software\Microsoft\Windows\CurrentVersion\Runonce<br>检查右侧是否有启动异常的项目，如有请删除，并建议安装杀毒软件进行病毒查杀，清除残留病毒或木马。</p>
<p>d、利用安全软件查看启动项、开机时间管理等。</p>
<p>e、组策略，运行gpedit.msc。</p>
</li>
</ul>
<p><img src="./image/sum-1-4.png" alt></p>
<p>2、检查计划任务</p>
<ul>
<li><p>检查方法：</p>
<p>a、单击【开始】&gt;【设置】&gt;【控制面板】&gt;【任务计划】，查看计划任务属性，便可以发现木马文件的路径。</p>
<p>b、单击【开始】&gt;【运行】；输入 cmd，然后输入at，检查计算机与网络上的其它计算机之间的会话或计划任务，如有，则确认是否为正常连接。</p>
</li>
</ul>
<p>3、服务自启动</p>
<ul>
<li>检查方法：单击【开始】&gt;【运行】，输入services.msc，注意服务状态和启动类型，检查是否有异常服务。</li>
</ul>
<h4 id="1-4-检查系统相关信息"><a href="#1-4-检查系统相关信息" class="headerlink" title="1.4 检查系统相关信息"></a>1.4 检查系统相关信息</h4><p>1、查看系统版本以及补丁信息</p>
<ul>
<li>检查方法：单击【开始】&gt;【运行】，输入systeminfo，查看系统信息</li>
</ul>
<p>2、查找可疑目录及文件</p>
<ul>
<li><p>检查方法：</p>
<p>a、 查看用户目录，新建账号会在这个目录生成一个用户目录，查看是否有新建用户目录。</p>
<p>​    Window 2003  C:\Documents and Settings</p>
<p>​    Window 2008R2  C:\Users\</p>
<p>b、单击【开始】&gt;【运行】，输入%UserProfile%\Recent，分析最近打开分析可疑文件。</p>
<p>c、在服务器各个目录，可根据文件夹内文件列表时间进行排序，查找可疑文件。</p>
<p>d、回收站、浏览器下载目录、浏览器历史记录</p>
<p>e、修改时间在创建时间之前的为可疑文件</p>
</li>
</ul>
<p>3、得到发现WEBSHELL、远控木马的创建时间，如何找出同一时间范围内创建的文件？</p>
<p>​    a、利用 Registry Workshop  注册表编辑器的搜索功能，可以找到最后写入时间区间的文件。</p>
<p>​    b、利用计算机自带文件搜索功能，指定修改时间进行搜索。</p>
<h4 id="1-5-自动化查杀"><a href="#1-5-自动化查杀" class="headerlink" title="1.5 自动化查杀"></a>1.5 自动化查杀</h4><ul>
<li><p>病毒查杀</p>
<ul>
<li>检查方法：下载安全软件，更新最新病毒库，进行全盘扫描。</li>
</ul>
</li>
<li><p>webshell查杀</p>
<ul>
<li>检查方法：选择具体站点路径进行webshell查杀，建议使用两款webshell查杀工具同时查杀，可相互补充规则库的不足。</li>
</ul>
</li>
</ul>
<h4 id="1-6-日志分析"><a href="#1-6-日志分析" class="headerlink" title="1.6 日志分析"></a>1.6 日志分析</h4><p>系统日志</p>
<ul>
<li><p>分析方法：</p>
<p>a、前提：开启审核策略，若日后系统出现故障、安全事故则可以查看系统的日志文件，排除故障，追查入侵者的信息等。</p>
<p>b、Win+R打开运行，输入“eventvwr.msc”，回车运行，打开“事件查看器”。</p>
<p>C、导出应用程序日志、安全日志、系统日志，利用Log Parser进行分析。</p>
</li>
</ul>
<p>WEB访问日志</p>
<ul>
<li><p>分析方法：</p>
<p>a、找到中间件的web日志，打包到本地方便进行分析。</p>
<p>b、推荐工具：Window下，推荐用 EmEditor 进行日志分析，支持大文本，搜索效率还不错。</p>
<p>​                 Linux下，使用Shell命令组合查询分析</p>
</li>
</ul>
<h3 id="0x02-工具篇"><a href="#0x02-工具篇" class="headerlink" title="0x02 工具篇"></a>0x02 工具篇</h3><h4 id="2-1-病毒分析"><a href="#2-1-病毒分析" class="headerlink" title="2.1 病毒分析"></a>2.1 病毒分析</h4><p>PCHunter：<a href="http://www.xuetr.com" target="_blank" rel="noopener">http://www.xuetr.com</a></p>
<p>火绒剑：<a href="https://www.huorong.cn" target="_blank" rel="noopener">https://www.huorong.cn</a></p>
<p>Process Explorer：<a href="https://docs.microsoft.com/zh-cn/sysinternals/downloads/process-explorer" target="_blank" rel="noopener">https://docs.microsoft.com/zh-cn/sysinternals/downloads/process-explorer</a></p>
<p>processhacker：<a href="https://processhacker.sourceforge.io/downloads.php" target="_blank" rel="noopener">https://processhacker.sourceforge.io/downloads.php</a></p>
<p>autoruns：<a href="https://docs.microsoft.com/en-us/sysinternals/downloads/autoruns" target="_blank" rel="noopener">https://docs.microsoft.com/en-us/sysinternals/downloads/autoruns</a></p>
<p>OTL：<a href="https://www.bleepingcomputer.com/download/otl/" target="_blank" rel="noopener">https://www.bleepingcomputer.com/download/otl/</a></p>
<p>SysInspector：<a href="http://download.eset.com.cn/download/detail/?product=sysinspector" target="_blank" rel="noopener">http://download.eset.com.cn/download/detail/?product=sysinspector</a></p>
<h4 id="2-2-病毒查杀"><a href="#2-2-病毒查杀" class="headerlink" title="2.2 病毒查杀"></a>2.2 病毒查杀</h4><p>卡巴斯基：<a href="http://devbuilds.kaspersky-labs.com/devbuilds/KVRT/latest/full/KVRT.exe" target="_blank" rel="noopener">http://devbuilds.kaspersky-labs.com/devbuilds/KVRT/latest/full/KVRT.exe</a>   （推荐理由：绿色版、最新病毒库）</p>
<p>大蜘蛛：<a href="http://free.drweb.ru/download+cureit+free（推荐理由：扫描快、一次下载只能用1周，更新病毒库）" target="_blank" rel="noopener">http://free.drweb.ru/download+cureit+free（推荐理由：扫描快、一次下载只能用1周，更新病毒库）</a></p>
<p>火绒安全软件：<a href="https://www.huorong.cn" target="_blank" rel="noopener">https://www.huorong.cn</a></p>
<p>360杀毒：<a href="http://sd.360.cn/download_center.html" target="_blank" rel="noopener">http://sd.360.cn/download_center.html</a></p>
<h4 id="2-3-病毒动态"><a href="#2-3-病毒动态" class="headerlink" title="2.3 病毒动态"></a>2.3 病毒动态</h4><p>CVERC-国家计算机病毒应急处理中心：<a href="http://www.cverc.org.cn" target="_blank" rel="noopener">http://www.cverc.org.cn</a></p>
<p>微步在线威胁情报社区：<a href="https://x.threatbook.cn" target="_blank" rel="noopener">https://x.threatbook.cn</a></p>
<p>火绒安全论坛：<a href="http://bbs.huorong.cn/forum-59-1.html" target="_blank" rel="noopener">http://bbs.huorong.cn/forum-59-1.html</a></p>
<p>爱毒霸社区：<a href="http://bbs.duba.net" target="_blank" rel="noopener">http://bbs.duba.net</a></p>
<p>腾讯电脑管家：<a href="http://bbs.guanjia.qq.com/forum-2-1.html" target="_blank" rel="noopener">http://bbs.guanjia.qq.com/forum-2-1.html</a></p>
<h4 id="2-4-在线病毒扫描网站"><a href="#2-4-在线病毒扫描网站" class="headerlink" title="2.4 在线病毒扫描网站"></a>2.4 在线病毒扫描网站</h4><p><a href="http://www.virscan.org" target="_blank" rel="noopener">http://www.virscan.org</a>         //多引擎在线病毒扫描网 v1.02，当前支持 41 款杀毒引擎     </p>
<p><a href="https://habo.qq.com" target="_blank" rel="noopener">https://habo.qq.com</a>             //腾讯哈勃分析系统</p>
<p><a href="https://virusscan.jotti.org" target="_blank" rel="noopener">https://virusscan.jotti.org</a>      //Jotti恶意软件扫描系统</p>
<p><a href="http://www.scanvir.com" target="_blank" rel="noopener">http://www.scanvir.com</a>        //针对计算机病毒、手机病毒、可疑文件等进行检测分析</p>
<h4 id="2-5-webshell查杀"><a href="#2-5-webshell查杀" class="headerlink" title="2.5 webshell查杀"></a>2.5 webshell查杀</h4><p>D盾_Web查杀：<a href="http://www.d99net.net/index.asp" target="_blank" rel="noopener">http://www.d99net.net/index.asp</a></p>
<p>河马webshell查杀：<a href="http://www.shellpub.com" target="_blank" rel="noopener">http://www.shellpub.com</a></p>
<p>深信服Webshell网站后门检测工具：<a href="http://edr.sangfor.com.cn/backdoor_detection.html" target="_blank" rel="noopener">http://edr.sangfor.com.cn/backdoor_detection.html</a></p>
<p>Safe3：<a href="http://www.uusec.com/webshell.zip" target="_blank" rel="noopener">http://www.uusec.com/webshell.zip</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/系统安全/">系统安全</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-本地计算机策略配置案例" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2019/08/28/本地计算机策略配置案例/" class="article-date">
      <time datetime="2019-08-27T16:00:00.000Z" itemprop="datePublished">2019-08-28</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2019/08/28/本地计算机策略配置案例/">组策略与安全设置</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <a id="more"></a>

<p><strong>组策略与安全设置</strong></p>
<p>组策略是一个能够让系统管理员控制管理用户工作环境的技术，包含计算机配置与用户配置两部份。其中计算机配置只对计算机环境有影响，而用户配置只对用户工作环境有影响。可以通过以下两种途径来设置组策略：</p>
<p><strong>本地计算机策略：</strong>用来设置某一计算机的策略，这个策略的计算机配置只会被应用到这台计算机，而用户配置会被应用到在此计算机登录的所有用户。</p>
<p><strong>域内的策略：</strong>在域内可以针对站点、域或组织单元来设置组策略，其中的域组策略内的设置会被应用到域内所有计算机与用户，而组织单元的组策略会被应用到该组织单元内的所有计算机与用户。</p>
<p><strong>对于加入到域的计算机来说，如果两者有冲突，以域或组织单元组策略的设置优先，本地策略无效。</strong></p>
<h1 id="一、-本地计算机策略配置案例"><a href="#一、-本地计算机策略配置案例" class="headerlink" title="一、**本地计算机策略配置案例**"></a><strong>一、**</strong>本地计算机策略配置案例**</h1><h2 id="1-、计算机配置"><a href="#1-、计算机配置" class="headerlink" title="1**、计算机配置**"></a><strong>1**</strong>、计算机配置**</h2><h3 id="案例1"><a href="#案例1" class="headerlink" title="案例1"></a><strong>案例1</strong></h3><p>****当要将windows server 2008计算机关机时，系统会要求提供关机理由。通过本地策略设置关闭提供关机理由。在开机时不显示管理您的服务器页</p>
<p><strong>操作流程：</strong>开始—运行—gpedit.msc （本地组策略编辑器）—-计算机配置—管理模板—-系统—</p>
<p>显示关闭事件跟踪程序—已禁用</p>
<p><img src="http://ww1.sinaimg.cn/large/007ru3v0gy1g6ft84lxctj30c90b1t96.jpg" alt="\img"></p>
<p>开机之后显示的：</p>
<p><img src="http://ww1.sinaimg.cn/large/007ru3v0gy1g6ft8hrs72j30da076t8w.jpg" alt="\img"></p>
<h3 id="案例2：开机不显示三键"><a href="#案例2：开机不显示三键" class="headerlink" title="案例2：开机不显示三键"></a><strong>案例2：</strong>开机不显示三键</h3><p><strong>操作流程：</strong>计算机配置–&gt;Windows设置–&gt;安全设置–&gt;本地策略，这时在本地策略下面可见到有“安全选项”，点击“安全选项”在右侧的框内找到“交互式登录:无须按CTRL+ALT+DEL”</p>
<p><img src="http://ww1.sinaimg.cn/large/007ru3v0gy1g6ft8qgknkj30fe06fdge.jpg" alt="\img"> </p>
<h2 id="2、-用户配置"><a href="#2、-用户配置" class="headerlink" title="2、**用户配置**"></a><strong>2、**</strong>用户配置**</h2><h3 id="案例1：删除开始菜单中的关机、重启、睡眠、休眠"><a href="#案例1：删除开始菜单中的关机、重启、睡眠、休眠" class="headerlink" title="案例1：删除开始菜单中的关机、重启、睡眠、休眠"></a><strong>案例1：</strong>删除开始菜单中的关机、重启、睡眠、休眠</h3><p><strong>操作流程：</strong>用户配置–管理模板–开始菜单和工具栏–双击右边的删除并阻止访问关机、重启、睡眠、休眠—选择已启用</p>
<p><img src="http://ww1.sinaimg.cn/large/007ru3v0gy1g6ft990u70j30ii03gaaa.jpg" alt="\img"></p>
<p><img src="http://ww1.sinaimg.cn/large/007ru3v0gy1g6ft9h894dj30c403twem.jpg" alt="\img"></p>
<p><img src="http://ww1.sinaimg.cn/large/007ru3v0gy1g6ft9o9op6j30c803bt8n.jpg" alt="\img"></p>
<h3 id="案例2：删除IE因特网选项的安全与连接选项卡"><a href="#案例2：删除IE因特网选项的安全与连接选项卡" class="headerlink" title="案例2：删除IE因特网选项的安全与连接选项卡"></a><strong>案例2：</strong>删除IE因特网选项的安全与连接选项卡</h3><p><strong>操作流程：</strong>用户配置–管理模板–windows组件–IE–internet控制面板–</p>
<p>​          分别双击禁用连接页与禁用安全页—已启用</p>
<p><img src="http://ww1.sinaimg.cn/large/007ru3v0gy1g6ftauhjk5j308207hq33.jpg" alt="\img"></p>
<p><img src="http://ww1.sinaimg.cn/large/007ru3v0gy1g6ftc3c4p6j30fd03wwem.jpg" alt="\img"></p>
<p><img src="http://ww1.sinaimg.cn/large/007ru3v0gy1g6ftccxe5jj30980630su.jpg" alt="\img"></p>
<p>​                    <img src="http://ww1.sinaimg.cn/large/007ru3v0gy1g6ftcqox63j308v05zwel.jpg" alt="\img">少了安全和连接</p>
<h3 id="案例3：隐藏windows-防火墙"><a href="#案例3：隐藏windows-防火墙" class="headerlink" title="案例3：隐藏windows 防火墙"></a><strong>案例3：</strong>隐藏windows 防火墙</h3><p><strong>操作流程：</strong>用户配置–管理模板–控制面板–隐藏指定的控制面板–已启用–显示–添加–输入：windows 防火墙–单击三次确定</p>
<p><img src="http://ww1.sinaimg.cn/large/007ru3v0gy1g6ftd36quij30fe04u74c.jpg" alt="\img"></p>
<p><img src="http://ww1.sinaimg.cn/large/007ru3v0gy1g6ftd9v4l5j30fe05idfy.jpg" alt="\img"></p>
<h1 id="二、-域组策略配置案例"><a href="#二、-域组策略配置案例" class="headerlink" title="二、**域组策略配置案例**"></a><strong>二、**</strong>域组策略配置案例**</h1><h1 id="三、"><a href="#三、" class="headerlink" title="三、"></a><strong>三、</strong><img src="http://ww1.sinaimg.cn/large/007ru3v0gy1g6ftdhdx55j30bx050dfy.jpg" alt="\img"></h1><h2 id="案例1：禁止生产部用户运行IE浏览器，生产部经理除外。"><a href="#案例1：禁止生产部用户运行IE浏览器，生产部经理除外。" class="headerlink" title="案例1：禁止生产部用户运行IE浏览器，生产部经理除外。"></a><strong>案例1：</strong>禁止生产部用户运行IE浏览器，生产部经理除外。</h2><p><strong>操作流程：</strong>用户配置–管理模板–系统–不要运行指定的windows应用程序–已启用–显示–添加–输入：iexplore.exe–单击3次确定</p>
<p>​          <strong>注意：**</strong>阻止继承与强制**</p>
<p>​          组策略例外排除：委派–高级–添加用户–拒绝读取、应用策略</p>
<h1 id="四、-本地安全策略配置案例"><a href="#四、-本地安全策略配置案例" class="headerlink" title="四、**本地安全策略配置案例**"></a><strong>四、**</strong>本地安全策略配置案例**</h1><p>   <strong>开始–管理工具–本地安全策略</strong></p>
<h2 id="1-、帐户策略的设置-：密码策略、帐户锁定策略"><a href="#1-、帐户策略的设置-：密码策略、帐户锁定策略" class="headerlink" title="1**、帐户策略的设置**：密码策略、帐户锁定策略"></a><strong>1**</strong>、帐户策略的设置**：密码策略、帐户锁定策略</h2><h2 id="2-、本地策略："><a href="#2-、本地策略：" class="headerlink" title="2**、本地策略：**"></a><strong>2**</strong>、本地策略：**</h2><p><strong>（1）用户权限分配：</strong>允许本地登录、拒绝本地登录、允许用户直接在本台计算机上按ctrl+alt+del键、</p>
<p>将工作站添加到域、关闭系统、更改系统时间…..</p>
<p>（2）<strong>安全选项：</strong>交互登录：无须按ctrl+alt+del键、不显示最后的用户名、提示用户密码过期前更改密码、试图登录的用户的消息文本、试图登录的用户的消息标题…..</p>
<h1 id="五、-域与域控制器安全策略"><a href="#五、-域与域控制器安全策略" class="headerlink" title="五、**域与域控制器安全策略**"></a><strong>五、**</strong>域与域控制器安全策略**</h1><p><strong>开始–管理工具–组策略管理</strong></p>
<h2 id="1-、域安全策略的设置"><a href="#1-、域安全策略的设置" class="headerlink" title="1**、域安全策略的设置**"></a><strong>1**</strong>、域安全策略的设置**</h2><p>（1）本地安全策略与域安全策略有冲突，以域安全策略优先，本地设置无效。</p>
<p>（2）本地计算机何时才会应用在域策略内有变动的设置呢？</p>
<p>本地安全策略有变动时；</p>
<p>本地计算机重启时；</p>
<p>DC每5分钟自动应用；</p>
<p>不是DC每隔90-120分钟会自动应用；</p>
<p>所有计算机每隔16小时强制应用，即使无更改。</p>
<p>手动应用域策略：gpupdate或gpupdate /force</p>
<h2 id="2-、域控制器安全策略的设置"><a href="#2-、域控制器安全策略的设置" class="headerlink" title="2**、域控制器安全策略的设置**"></a><strong>2**</strong>、域控制器安全策略的设置**</h2><p>只影响到位于Domain Controllers内的域控制器，不影响其他组织单元或容器内的计算机和用户</p>
<p>所有位于Domain Controllers内的DC都会受域控制器安全策略的影响。</p>
<p>域安全策略与域控制器安全策略冲突时，对于DC来说域控制器安全策略优先，域安全策略无效。</p>
<p>域控制器安全策略的设置必须要应用到域控制器后，对DC才生效。</p>
<h1 id="六、-组策略首选项"><a href="#六、-组策略首选项" class="headerlink" title="六、**组策略首选项**"></a><strong>六、**</strong>组策略首选项**</h1><p>​                            组策略内的设置分为，策略与首选项，区别是：</p>
<p>​     只有域内的组策略才有首选项功能，本地计算机策略无此功能。</p>
<p>​     首选项非强制性，客户端可更改设置，策略设置是强制性，客户端无法更改。</p>
<p>​     策略设置若要在客户端发生作用，客户计算机的操作系统或应用程序必须支持组策略，首选项不需要。</p>
<p>​     若要筛选策略设置，必须针对整个GPO来筛选，而首选项可以针对单一设置项目来设置。</p>
<h2 id="案例1-1"><a href="#案例1-1" class="headerlink" title="案例1"></a><strong>案例1</strong></h2><p>业务部所有用户登录时，其磁盘Z：会自动连接到\server\tools共享文件夹；另外还要使用筛选功能来设置只有业务部的用户paul登录时，其磁盘Y:会连接到\server\database共享文件夹，而业务部的其他用户登录时不会Y：磁盘。</p>
<p><strong>操作流程：</strong>组策略–用户配置–首选项–windows设置–右击驱动器映射–新建驱动器映射–操作：更新–位置：共享文件夹的路径–重新连接：打钩–驱动器号：Z—公用—在登录用户的安全上下文件中运行（用户策略选项）</p>
<p>​           组策略–用户配置–首选项–windows设置–右击驱动器映射–新建驱动器映射–操作：更瓣–位置：共享文件夹的路径–重新连接：打钩–驱动器号：Y—公用—在登录用户的安全上下文件中运行（用户策略选项）,项目级别目标—目标—新建项目–用户</p>
<h2 id="案例2"><a href="#案例2" class="headerlink" title="案例2"></a><strong>案例2</strong></h2><p>让业务部用户登录时会自动连接网络打印机</p>
<p><strong>操作流程：</strong>用户配置–首选项–控制面板设置–右击打印机–新建–共享打印机    </p>
<h1 id="七、-审核资源的使用"><a href="#七、-审核资源的使用" class="headerlink" title="七、**审核资源的使用**"></a><strong>七、**</strong>审核资源的使用**</h1><p>通过审核（auditing)可以让系统管理员来跟踪是否有用户访问计算机内的资源、跟踪计算机运行情况等。审核工作通常需要经过以下两个步骤：</p>
<p><strong>启用审核策略：</strong>Administrators成员才有权限</p>
<p><strong>设置将要审核的资源：</strong>必须有管理审核及安全日志权限的用户才可以审核资源，默认是 Administrators成员才有此权限。</p>
<p><strong>审核策略的设置：</strong>本地安全策略–安全设置–本地策略–审核策略</p>
<p><strong>查看安全日志文件：</strong>管理工具–事件查看器–windows日志–安全</p>
<p>​                           <strong>案例1：审核登录事件</strong></p>
<p><strong>案例2：审核文件的访问行为</strong></p>
<p><strong>案例3：审核打印机的访问行为</strong></p>
<p><strong>案例4：审核目录访问行为</strong></p>
<p><img src="http://ww1.sinaimg.cn/large/007ru3v0gy1g6ftdrjnyjj30a7056weq.jpg" alt="\img"></p>
<h1 id="八、-任务"><a href="#八、-任务" class="headerlink" title="八、 任务"></a>八、 任务</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><ol>
<li><p>域用户登录桌面后自动加入本地administrators管理员组</p>
</li>
<li><p>域用户登录桌面后自动禁用本地guest来宾用户</p>
</li>
<li><p>域用户登录桌面后控制面板隐藏用户账户</p>
</li>
<li><p>域用户登录桌面后自动创建公司共享快捷方式</p>
</li>
<li><p>域用户登录桌面后自动创建百度网页快捷方式URL</p>
</li>
<li><p>域用户登录桌面后自动创建驱动器映射公司共享</p>
</li>
<li><p>域用户登录桌面后禁用计算管理的本地用户和组</p>
</li>
<li><p>域用户登录桌面后自动推送批处理安装压缩包软件</p>
</li>
<li><p>域用户登录桌面后提示组策略限制安装QQ软件</p>
</li>
</ol>
<h2 id="参考答案："><a href="#参考答案：" class="headerlink" title="参考答案："></a><strong>参考答案：</strong></h2><p>1、域用户登录桌面后自动加入本地administrators管理员组</p>
<p>编辑组策略–用户配置–首选项–控制面板设置–本地用户和组–新建–本地组。</p>
<p>   本地组–操作选择更新–组名选择Administrators(内置)–选择添加当前用户–确定</p>
<p>域控服务器运行输入 gpupdate /force刷新服务器组策略，客户端需要注销系统后使用域用户登录</p>
<p><img src="http://ww1.sinaimg.cn/large/007ru3v0gy1g6fsy8npdqj30bu07mq38.jpg" alt="\img"></p>
<p><img src="http://ww1.sinaimg.cn/large/007ru3v0gy1g6fsyfxwvjj30c20cft98.jpg" alt="\img"></p>
<p>2、域用户登录桌面后自动禁用本地guest来宾用户</p>
<p>编辑组策略– 用户配置–首选项–控制面板设置–本地用户和组–新建 –本地用户</p>
<p>本地用户 –操作选择更新 –用户名选择guest(内置) –选择账户已禁用 –确定。</p>
<p>域控服务器运行输入 gpupdate /force刷新服务器组策略，客户端需要注销系统后使用域用户登录</p>
<p><img src="http://ww1.sinaimg.cn/large/007ru3v0gy1g6fsz8l4e9j308q08ydg2.jpg" alt="\img"></p>
<p><img src="http://ww1.sinaimg.cn/large/007ru3v0gy1g6fszfakevj309t076jrg.jpg" alt="\img"></p>
<p>3、 域用户登录桌面后控制面板隐藏用户账户</p>
<p>编辑组策略 —- 用户配置 —- 管理模板 —- 控制面板 —- 双击打开 隐藏的指定的“控制面板”项。</p>
<p>选择已启用 —- 显示 —- 输入 Microsoft.UserAccounts —- 确定 —- 确定。</p>
<p>域控服务器运行输入 gpupdate /force刷新服务器组策略，客户端需要注销系统后使用域用户登录</p>
<p><img src="http://ww1.sinaimg.cn/large/007ru3v0gy1g6fszrhv6kj30a507h0sy.jpg" alt="\img"></p>
<p><img src="http://ww1.sinaimg.cn/large/007ru3v0gy1g6ft06i3xnj30be06sjro.jpg" alt="\img"></p>
<p>4、域用户登录桌面后自动创建公司共享快捷方式</p>
<p> 编辑组策略 —- 用户配置 —- Windows 设置 —- 快捷方式 —– 新建 —– 快捷方式。</p>
<p>在域控服务器创建一个共享文件夹2345，目标路径填写\192.168.10.30\2345 域控服务器的共享文件夹。</p>
<p>域控服务器运行输入 gpupdate /force刷新服务器组策略，客户端需要注销系统后使用域用户登录</p>
<p><img src="http://ww1.sinaimg.cn/large/007ru3v0gy1g6ft10xym5j308c08it91.jpg" alt="\img"></p>
<p><img src="http://ww1.sinaimg.cn/large/007ru3v0gy1g6ft186u3bj30b305xjrf.jpg" alt="\img"></p>
<p>5、域用户登录桌面后自动创建百度网页快捷方式URL</p>
<p>编辑组策略 —- 用户配置 —-  首选项 —- Windows 设置 —- 快捷方式 —- 新建  —- 快捷方式。</p>
<p>操作选择创建–名称自定义–目标类型选择URL–位置桌面 –目标URL输入<a href="http://www.baidu.com/" target="_blank" rel="noopener">www.baidu.com</a> –图标文件路径自定义选择–确定。</p>
<p>域控服务器运行输入 gpupdate /force刷新服务器组策略，客户端需要注销系统后使用域用户登录</p>
<p><img src="http://ww1.sinaimg.cn/large/007ru3v0gy1g6ft1h3oh8j30a805vmx9.jpg" alt="\img"></p>
<p>6、域用户登录桌面后自动创建驱动器映射公司共享</p>
<p>编辑组策略 —- 用户配置 —-  首选项 —- Windows 设置 —- 驱动器映射 —- 新建 —- 映射驱动器</p>
<p>常规 —- 操作选择创建  —- 位置输入公司共享服务器地址 <a href="file://192.168.10.30/2345" target="_blank" rel="noopener">\192.168.10.30\2345</a>  驱动器号自定义 —- 隐藏/显示此驱动器选择显示此驱动器 —- 确定。</p>
<p>域控服务器运行输入 gpupdate /force刷新服务器组策略，客户端需要注销系统后使用域用户登录</p>
<p><img src="http://ww1.sinaimg.cn/large/007ru3v0gy1g6ft1umo7zj308o08qwer.jpg" alt="\img"></p>
<p><img src="http://ww1.sinaimg.cn/large/007ru3v0gy1g6ft20vq8kj30b808o0t1.jpg" alt="\img"></p>
<p>7、域用户登录桌面后禁用计算管理的本地用户和组</p>
<p>域用户登录桌面后禁用计算管理的本地用户和组编辑组策略 —- 用户配置 —- 策略 —- 管理模板 —- Windows 组件 —- Microsoft管理控制台 — 受限的/许可</p>
<p>的管理单元 —- 本地用户和组。</p>
<p>选择已禁用 —- 确定</p>
<p>域控服务器运行输入 gpupdate /force刷新服务器组策略，客户端需要注销系统后使用域用户登录</p>
<p><img src="http://ww1.sinaimg.cn/large/007ru3v0gy1g6ft2jd3b1j30m204umxf.jpg" alt="\img"></p>
<p>8、域用户登录桌面后自动推送批处理安装压缩包软件</p>
<p>编辑组策略 —- 选择用户配置—策略 —- Windows设置 — 脚本(登录/注销) —- 双击打开登录</p>
<p>点击显示文件 —- 把桌面编辑好的test.bat批处理复制到组组策略脚本指定的文件夹里面。(test.bat批处理 start <a href="file://192.168.10.30/2345/360压缩包.exe" target="_blank" rel="noopener">\192.168.10.30\2345\360压缩包.exe)</a>)</p>
<p>域控服务器运行输入 gpupdate /force刷新服务器组策略，客户端需要注销系统后使用域用户登录，实现功能如下图所示。</p>
<p><img src="http://ww1.sinaimg.cn/large/007ru3v0gy1g6ft2ryvs8j30e00640sv.jpg" alt="\img"></p>
<p><img src="http://ww1.sinaimg.cn/large/007ru3v0gy1g6ft2ybo28j30af04eq2s.jpg" alt="\img"></p>
<p>9、域用户登录桌面后提示组策略限制安装QQ软件</p>
<p>编辑策略– 用户配置– –策略–Windows 设置– 安全设置–软件限制策略—右键其它规则–选择新建哈希规则 。</p>
<p>选择浏览 — 选择要限制的软件 —- 打开 —- 安全级别选择：不允许 —– 确定。</p>
<p>域控服务器运行输入 gpupdate /force刷新服务器组策略，客户端需要注销系统后使用域用户登录</p>
<p><img src="http://ww1.sinaimg.cn/large/007ru3v0gy1g6ft377vpdj30b208pwew.jpg" alt="\img"></p>
<p><img src="http://ww1.sinaimg.cn/large/007ru3v0gy1g6ft3ep884j30h004sq31.jpg" alt="\img"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/系统安全/">系统安全</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-08-28windows服务器" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2019/08/26/08-28windows服务器/" class="article-date">
      <time datetime="2019-08-25T16:00:00.000Z" itemprop="datePublished">2019-08-26</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2019/08/26/08-28windows服务器/">Windows服务器</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <p>本节主要简单的介绍了windows2008R2与XP服务器的一些简单的操作</p>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/系统安全/">系统安全</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a   href="/2019/08/26/08-28windows服务器/#more">查看更多 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-第2篇：Linux入侵排查" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2019/08/25/第2篇：Linux入侵排查/" class="article-date">
      <time datetime="2019-08-25T08:20:20.000Z" itemprop="datePublished">2019-08-25</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2019/08/25/第2篇：Linux入侵排查/">linux入侵排查</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <a id="more"></a>

<h2 id="第2篇：Linux入侵排查"><a href="#第2篇：Linux入侵排查" class="headerlink" title="第2篇：Linux入侵排查"></a>第2篇：Linux入侵排查</h2><h3 id="0x00-前言"><a href="#0x00-前言" class="headerlink" title="0x00 前言"></a>0x00 前言</h3><p>当企业发生黑客入侵、系统崩溃或其它影响业务正常运行的安全事件时，急需第一时间进行处理，使企业的网络信息系统在最短时间内恢复正常工作，进一步查找入侵来源，还原入侵事故过程，同时给出解决方案与防范措施，为企业挽回或减少经济损失。  </p>
<p>针对常见的攻击事件，结合工作中应急响应事件分析和解决的方法，总结了一些Linux服务器入侵排查的思路。</p>
<h3 id="0x01-入侵排查思路"><a href="#0x01-入侵排查思路" class="headerlink" title="0x01 入侵排查思路"></a>0x01 入侵排查思路</h3><h4 id="1-1-账号安全"><a href="#1-1-账号安全" class="headerlink" title="1.1 账号安全"></a>1.1 账号安全</h4><p><strong>基本使用：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1、用户信息文件/etc/passwd</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">account:password:UID:GID:GECOS:directory:shell</span><br><span class="line">用户名：密码：用户ID：组ID：用户说明：家目录：登陆之后shell</span><br><span class="line">注意：无密码只允许本机登陆，远程不允许登陆</span><br><span class="line"></span><br><span class="line">2、影子文件/etc/shadow</span><br><span class="line">root:$6$oGs1PqhL2p3ZetrE$X7o7bzoouHQVSEmSgsYN5UD4.kMHx6qgbTqwNVC5oOAouXvcjQSt.Ft7ql1WpkopY0UV9ajBwUt1DpYxTCVvI/:16809:0:99999:7:::</span><br><span class="line">用户名：加密密码：密码最后一次修改日期：两次密码的修改时间间隔：密码有效期：密码修改到期到的警告天数：密码过期之后的宽限天数：账号失效时间：保留</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">who     查看当前登录用户（tty本地登陆  pts远程登录）</span><br><span class="line">w       查看系统信息，想知道某一时刻用户的行为</span><br><span class="line">uptime  查看登陆多久、多少用户，负载</span><br></pre></td></tr></table></figure>

<p><strong>入侵排查：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1、查询特权用户特权用户(uid 为0)</span><br><span class="line">[root@localhost ~]# awk -F: &apos;$3==0&#123;print $1&#125;&apos; /etc/passwd</span><br><span class="line">2、查询可以远程登录的帐号信息</span><br><span class="line">[root@localhost ~]# awk &apos;/\$1|\$6/&#123;print $1&#125;&apos; /etc/shadow</span><br><span class="line">3、除root帐号外，其他帐号是否存在sudo权限。如非管理需要，普通帐号应删除sudo权限</span><br><span class="line">[root@localhost ~]# more /etc/sudoers | grep -v &quot;^#\|^$&quot; | grep &quot;ALL=(ALL)&quot;</span><br><span class="line">4、禁用或删除多余及可疑的帐号</span><br><span class="line">    usermod -L user    禁用帐号，帐号无法登录，/etc/shadow第二栏为!开头</span><br><span class="line">	userdel user       删除user用户</span><br><span class="line">	userdel -r user    将删除user用户，并且将/home目录下的user目录一并删除</span><br></pre></td></tr></table></figure>

<h4 id="1-2-历史命令"><a href="#1-2-历史命令" class="headerlink" title="1.2 历史命令"></a>1.2 历史命令</h4><p><strong>基本使用：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">通过.bash_history查看帐号执行过的系统命令</span><br><span class="line">1、root的历史命令</span><br><span class="line">histroy</span><br><span class="line">2、打开/home各帐号目录下的.bash_history，查看普通帐号的历史命令</span><br><span class="line"></span><br><span class="line">为历史的命令增加登录的IP地址、执行命令时间等信息：</span><br><span class="line">1）保存1万条命令</span><br><span class="line">sed -i &apos;s/^HISTSIZE=1000/HISTSIZE=10000/g&apos; /etc/profile</span><br><span class="line">2）在/etc/profile的文件尾部添加如下行数配置信息：</span><br><span class="line">######jiagu history xianshi#########</span><br><span class="line">USER_IP=`who -u am i 2&gt;/dev/null | awk &apos;&#123;print $NF&#125;&apos; | sed -e &apos;s/[()]//g&apos;`</span><br><span class="line">if [ &quot;$USER_IP&quot; = &quot;&quot; ]</span><br><span class="line">then</span><br><span class="line">USER_IP=`hostname`</span><br><span class="line">fi</span><br><span class="line">export HISTTIMEFORMAT=&quot;%F %T $USER_IP `whoami` &quot;</span><br><span class="line">shopt -s histappend</span><br><span class="line">export PROMPT_COMMAND=&quot;history -a&quot;</span><br><span class="line">######### jiagu history xianshi ##########</span><br><span class="line">3）source /etc/profile让配置生效</span><br><span class="line"></span><br><span class="line">生成效果： 1  2018-07-10 19:45:39 192.168.204.1 root source /etc/profile</span><br><span class="line"></span><br><span class="line">3、历史操作命令的清除：history -c</span><br><span class="line">但此命令并不会清除保存在文件中的记录，因此需要手动删除.bash_profile文件中的记录。</span><br></pre></td></tr></table></figure>

<p><strong>入侵排查：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">进入用户目录下</span><br><span class="line">cat .bash_history &gt;&gt; history.txt</span><br></pre></td></tr></table></figure>

<h4 id="1-3-检查异常端口"><a href="#1-3-检查异常端口" class="headerlink" title="1.3 检查异常端口"></a>1.3 检查异常端口</h4><p>使用netstat 网络连接命令，分析可疑端口、IP、PID</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">netstat -antlp|more</span><br><span class="line"></span><br><span class="line">查看下pid所对应的进程文件路径，</span><br><span class="line">运行ls -l /proc/$PID/exe或file /proc/$PID/exe（$PID 为对应的pid 号）</span><br></pre></td></tr></table></figure>

<h4 id="1-4-检查异常进程"><a href="#1-4-检查异常进程" class="headerlink" title="1.4 检查异常进程"></a>1.4 检查异常进程</h4><p>使用ps命令，分析进程</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps aux | grep pid</span><br></pre></td></tr></table></figure>

<h4 id="1-5-检查开机启动项"><a href="#1-5-检查开机启动项" class="headerlink" title="1.5 检查开机启动项"></a>1.5 检查开机启动项</h4><p><strong>基本使用：</strong></p>
<p>系统运行级别示意图：</p>
<table>
<thead>
<tr>
<th align="center">运行级别</th>
<th align="center">含义</th>
</tr>
</thead>
<tbody><tr>
<td align="center">0</td>
<td align="center">关机</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">单用户模式，可以想象为windows的安全模式，主要用于系统修复</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">不完全的命令行模式，不含NFS服务</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">完全的命令行模式，就是标准字符界面</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">系统保留</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">图形模式</td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">重启动</td>
</tr>
</tbody></table>
<p>查看运行级别命令<br>    runlevel   </p>
<p>系统默认允许级别</p>
<pre><code>vi  /etc/inittab
id=3：initdefault  系统开机后直接进入哪个运行级别</code></pre><p>开机启动配置文件</p>
<pre><code>/etc/rc.local
/etc/rc.d/rc[0~6].d</code></pre><p>例子:当我们需要开机启动自己的脚本时，只需要将可执行脚本丢在/etc/init.d目录下，然后在/etc/rc.d/rc*.d中建立软链接即可</p>
<pre><code>root@localhost ~]# ln -s /etc/init.d/sshd /etc/rc.d/rc3.d/S100ssh</code></pre><p>此处sshd是具体服务的脚本文件，S100ssh是其软链接，S开头代表加载时自启动；如果是K开头的脚本文件，代表运行级别加载时需要关闭的。</p>
<p><strong>入侵排查：</strong></p>
<p>启动项文件：<br>    more /etc/rc.local<br>    /etc/rc.d/rc[0~6].d<br>    ls -l /etc/rc.d/rc3.d/</p>
<h4 id="1-6-检查定时任务"><a href="#1-6-检查定时任务" class="headerlink" title="1.6 检查定时任务"></a>1.6 检查定时任务</h4><p><strong>基本使用</strong></p>
<p>1、利用crontab创建计划任务</p>
<ul>
<li>基本命令</li>
</ul>
<p>crontab -l   列出某个用户cron服务的详细内容</p>
<p>Tips：默认编写的crontab文件会保存在 (/var/spool/cron/用户名 例如: /var/spool/cron/root</p>
<p>crontab -r   删除每个用户cront任务(谨慎：删除所有的计划任务)</p>
<p>crontab -e   使用编辑器编辑当前的crontab文件 </p>
<p>如：*/1 * * * * echo “hello world” &gt;&gt; /tmp/test.txt 每分钟写入文件</p>
<p>2、利用anacron实现异步定时任务调度</p>
<ul>
<li>使用案例</li>
</ul>
<p>每天运行 /home/backup.sh脚本：<br>    vi /etc/anacrontab<br>    @daily    10    example.daily   /bin/bash /home/backup.sh</p>
<p>当机器在 backup.sh 期望被运行时是关机的，anacron会在机器开机十分钟之后运行它，而不用再等待 7天。</p>
<p><strong>入侵排查</strong></p>
<p>重点关注以下目录中是否存在恶意脚本</p>
<pre><code>/var/spool/cron/* 
/etc/crontab
/etc/cron.d/*
/etc/cron.daily/* 
/etc/cron.hourly/* 
/etc/cron.monthly/*
/etc/cron.weekly/
/etc/anacrontab
/var/spool/anacron/*</code></pre><p>小技巧：</p>
<pre><code>more /etc/cron.daily/*  查看目录下所有文件</code></pre><h4 id="1-7-检查服务"><a href="#1-7-检查服务" class="headerlink" title="1.7 检查服务"></a>1.7 检查服务</h4><p><strong>服务自启动</strong></p>
<p>第一种修改方法：</p>
<pre><code>chkconfig [--level 运行级别] [独立服务名] [on|off]
chkconfig –level  2345 httpd on  开启自启动
chkconfig httpd on （默认level是2345）</code></pre><p>第二种修改方法：</p>
<pre><code>修改/etc/re.d/rc.local 文件  
加入 /etc/init.d/httpd start</code></pre><p>第三种修改方法：</p>
<p>使用ntsysv命令管理自启动，可以管理独立服务和xinetd服务。</p>
<p><strong>入侵排查</strong></p>
<p>1、查询已安装的服务：</p>
<p>RPM包安装的服务</p>
<pre><code>chkconfig  --list  查看服务自启动状态，可以看到所有的RPM包安装的服务
ps aux | grep crond 查看当前服务

系统在3与5级别下的启动项 
中文环境
chkconfig --list | grep &quot;3:启用\|5:启用&quot;
英文环境
chkconfig --list | grep &quot;3:on\|5:on&quot;</code></pre><p>源码包安装的服务</p>
<pre><code>查看服务安装位置 ，一般是在/user/local/
service httpd start
搜索/etc/rc.d/init.d/  查看是否存在</code></pre><h4 id="1-8-检查异常文件"><a href="#1-8-检查异常文件" class="headerlink" title="1.8 检查异常文件"></a>1.8 检查异常文件</h4><p>1、查看敏感目录，如/tmp目录下的文件，同时注意隐藏文件夹，以“..”为名的文件夹具有隐藏属性</p>
<p>2、得到发现WEBSHELL、远控木马的创建时间，如何找出同一时间范围内创建的文件？</p>
<p>​    可以使用find命令来查找，如 find /opt -iname “*” -atime 1 -type f  找出 /opt 下一天前访问过的文件</p>
<p>3、针对可疑文件可以使用stat进行创建修改时间。</p>
<h4 id="1-9-检查系统日志"><a href="#1-9-检查系统日志" class="headerlink" title="1.9 检查系统日志"></a>1.9 检查系统日志</h4><p>日志默认存放位置：/var/log/</p>
<p>查看日志配置情况：more /etc/rsyslog.conf</p>
<table>
<thead>
<tr>
<th align="center">日志文件</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">/var/log/cron</td>
<td align="center">记录了系统定时任务相关的日志</td>
</tr>
<tr>
<td align="center">/var/log/cups</td>
<td align="center">记录打印信息的日志</td>
</tr>
<tr>
<td align="center">/var/log/dmesg</td>
<td align="center">记录了系统在开机时内核自检的信息，也可以使用dmesg命令直接查看内核自检信息</td>
</tr>
<tr>
<td align="center">/var/log/mailog</td>
<td align="center">记录邮件信息</td>
</tr>
<tr>
<td align="center">/var/log/message</td>
<td align="center">记录系统重要信息的日志。这个日志文件中会记录Linux系统的绝大多数重要信息，如果系统出现问题时，首先要检查的就应该是这个日志文件</td>
</tr>
<tr>
<td align="center">/var/log/btmp</td>
<td align="center">记录错误登录日志，这个文件是二进制文件，不能直接vi查看，而要使用lastb命令查看</td>
</tr>
<tr>
<td align="center">/var/log/lastlog</td>
<td align="center">记录系统中所有用户最后一次登录时间的日志，这个文件是二进制文件，不能直接vi，而要使用lastlog命令查看</td>
</tr>
<tr>
<td align="center">/var/log/wtmp</td>
<td align="center">永久记录所有用户的登录、注销信息，同时记录系统的启动、重启、关机事件。同样这个文件也是一个二进制文件，不能直接vi，而需要使用last命令来查看</td>
</tr>
<tr>
<td align="center">/var/log/utmp</td>
<td align="center">记录当前已经登录的用户信息，这个文件会随着用户的登录和注销不断变化，只记录当前登录用户的信息。同样这个文件不能直接vi，而要使用w,who,users等命令来查询</td>
</tr>
<tr>
<td align="center">/var/log/secure</td>
<td align="center">记录验证和授权方面的信息，只要涉及账号和密码的程序都会记录，比如SSH登录，su切换用户，sudo授权，甚至添加用户和修改用户密码都会记录在这个日志文件中</td>
</tr>
</tbody></table>
<p>日志分析技巧：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">1、定位有多少IP在爆破主机的root帐号：    </span><br><span class="line">grep &quot;Failed password for root&quot; /var/log/secure | awk &apos;&#123;print $11&#125;&apos; | sort | uniq -c | sort -nr | more</span><br><span class="line"></span><br><span class="line">定位有哪些IP在爆破：</span><br><span class="line">grep &quot;Failed password&quot; /var/log/secure|grep -E -o &quot;(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)&quot;|uniq -c</span><br><span class="line"></span><br><span class="line">爆破用户名字典是什么？</span><br><span class="line"> grep &quot;Failed password&quot; /var/log/secure|perl -e &apos;while($_=&lt;&gt;)&#123; /for(.*?) from/; print &quot;$1\n&quot;;&#125;&apos;|uniq -c|sort -nr</span><br><span class="line"> </span><br><span class="line">2、登录成功的IP有哪些： 	</span><br><span class="line">grep &quot;Accepted &quot; /var/log/secure | awk &apos;&#123;print $11&#125;&apos; | sort | uniq -c | sort -nr | more</span><br><span class="line"></span><br><span class="line">登录成功的日期、用户名、IP：</span><br><span class="line">grep &quot;Accepted &quot; /var/log/secure | awk &apos;&#123;print $1,$2,$3,$9,$11&#125;&apos; </span><br><span class="line"></span><br><span class="line">3、增加一个用户kali日志：</span><br><span class="line">Jul 10 00:12:15 localhost useradd[2382]: new group: name=kali, GID=1001</span><br><span class="line">Jul 10 00:12:15 localhost useradd[2382]: new user: name=kali, UID=1001, GID=1001, home=/home/kali</span><br><span class="line">, shell=/bin/bash</span><br><span class="line">Jul 10 00:12:58 localhost passwd: pam_unix(passwd:chauthtok): password changed for kali</span><br><span class="line">#grep &quot;useradd&quot; /var/log/secure </span><br><span class="line"></span><br><span class="line">4、删除用户kali日志：</span><br><span class="line">Jul 10 00:14:17 localhost userdel[2393]: delete user &apos;kali&apos;</span><br><span class="line">Jul 10 00:14:17 localhost userdel[2393]: removed group &apos;kali&apos; owned by &apos;kali&apos;</span><br><span class="line">Jul 10 00:14:17 localhost userdel[2393]: removed shadow group &apos;kali&apos; owned by &apos;kali&apos;</span><br><span class="line"># grep &quot;userdel&quot; /var/log/secure</span><br><span class="line"></span><br><span class="line">5、su切换用户：</span><br><span class="line">Jul 10 00:38:13 localhost su: pam_unix(su-l:session): session opened for user good by root(uid=0)</span><br><span class="line"></span><br><span class="line">sudo授权执行:</span><br><span class="line">sudo -l</span><br><span class="line">Jul 10 00:43:09 localhost sudo:    good : TTY=pts/4 ; PWD=/home/good ; USER=root ; COMMAND=/sbin/shutdown -r now</span><br></pre></td></tr></table></figure>

<h3 id="0x02-工具篇"><a href="#0x02-工具篇" class="headerlink" title="0x02 工具篇"></a>0x02 工具篇</h3><h4 id="2-1-Rootkit查杀"><a href="#2-1-Rootkit查杀" class="headerlink" title="2.1 Rootkit查杀"></a>2.1 Rootkit查杀</h4><ul>
<li><p>chkrootkit  </p>
<p>网址：<a href="http://www.chkrootkit.org" target="_blank" rel="noopener">http://www.chkrootkit.org</a> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">使用方法：</span><br><span class="line">wget ftp://ftp.pangeia.com.br/pub/seg/pac/chkrootkit.tar.gz</span><br><span class="line">tar zxvf chkrootkit.tar.gz</span><br><span class="line">cd chkrootkit-0.52</span><br><span class="line">make sense</span><br><span class="line">#编译完成没有报错的话执行检查</span><br><span class="line">./chkrootkit</span><br></pre></td></tr></table></figure>
</li>
<li><p>rkhunter</p>
<p>网址：<a href="http://rkhunter.sourceforge.net" target="_blank" rel="noopener">http://rkhunter.sourceforge.net</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">使用方法：</span><br><span class="line">Wget https://nchc.dl.sourceforge.net/project/rkhunter/rkhunter/1.4.4/rkhunter-1.4.4.tar.gz</span><br><span class="line">tar -zxvf rkhunter-1.4.4.tar.gz</span><br><span class="line">cd rkhunter-1.4.4</span><br><span class="line">./installer.sh --install</span><br><span class="line">rkhunter -c</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="2-2-病毒查杀"><a href="#2-2-病毒查杀" class="headerlink" title="2.2 病毒查杀"></a>2.2 病毒查杀</h4><ul>
<li><p>Clamav</p>
<p>ClamAV的官方下载地址为：<a href="http://www.clamav.net/download.html" target="_blank" rel="noopener">http://www.clamav.net/download.html</a> </p>
<p>安装方式一： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">1、安装zlib：</span><br><span class="line">wget http://nchc.dl.sourceforge.net/project/libpng/zlib/1.2.7/zlib-1.2.7.tar.gz </span><br><span class="line">tar -zxvf  zlib-1.2.7.tar.gz</span><br><span class="line">cd zlib-1.2.7</span><br><span class="line">#安装一下gcc编译环境： yum install gcc</span><br><span class="line">CFLAGS=&quot;-O3 -fPIC&quot; ./configure --prefix= /usr/local/zlib/</span><br><span class="line">make &amp;&amp; make install</span><br><span class="line"></span><br><span class="line">2、添加用户组clamav和组成员clamav：</span><br><span class="line">groupadd clamav</span><br><span class="line">useradd -g clamav -s /bin/false -c &quot;Clam AntiVirus&quot; clamav</span><br><span class="line"></span><br><span class="line">3、安装Clamav</span><br><span class="line">tar –zxvf clamav-0.97.6.tar.gz</span><br><span class="line">cd clamav-0.97.6</span><br><span class="line">./configure --prefix=/opt/clamav --disable-clamav -with-zlib=/usr/local/zlib</span><br><span class="line">make</span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">4、配置Clamav</span><br><span class="line">mkdir /opt/clamav/logs</span><br><span class="line">mkdir /opt/clamav/updata</span><br><span class="line">touch /opt/clamav/logs/freshclam.log</span><br><span class="line">touch /opt/clamav/logs/clamd.log</span><br><span class="line">cd /opt/clamav/logs</span><br><span class="line">chown clamav:clamav clamd.log</span><br><span class="line">chown clamav:clamav freshclam.log</span><br><span class="line"></span><br><span class="line">5、ClamAV 使用：</span><br><span class="line"> /opt/clamav/bin/freshclam 升级病毒库</span><br><span class="line">./clamscan –h 查看相应的帮助信息</span><br><span class="line">./clamscan -r /home  扫描所有用户的主目录就使用</span><br><span class="line">./clamscan -r --bell -i /bin  扫描bin目录并且显示有问题的文件的扫描结果</span><br></pre></td></tr></table></figure>

<p>安装方式二： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#安装</span><br><span class="line">yum install -y clamav</span><br><span class="line">#更新病毒库</span><br><span class="line">freshclam</span><br><span class="line">#扫描方法</span><br><span class="line">clamscan -r /etc --max-dir-recursion=5 -l /root/etcclamav.log</span><br><span class="line">clamscan -r /bin --max-dir-recursion=5 -l /root/binclamav.log</span><br><span class="line">clamscan -r /usr --max-dir-recursion=5 -l /root/usrclamav.log</span><br><span class="line">#扫描并杀毒</span><br><span class="line">clamscan -r  --remove  /usr/bin/bsd-port</span><br><span class="line">clamscan -r  --remove  /usr/bin/</span><br><span class="line">clamscan -r --remove  /usr/local/zabbix/sbin</span><br><span class="line">#查看日志发现</span><br><span class="line">cat /root/usrclamav.log |grep FOUND</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="2-3-webshell查杀"><a href="#2-3-webshell查杀" class="headerlink" title="2.3 webshell查杀"></a>2.3 webshell查杀</h4><p>linux版：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">河马webshell查杀：http://www.shellpub.com</span><br><span class="line">深信服Webshell网站后门检测工具：http://edr.sangfor.com.cn/backdoor_detection.html</span><br></pre></td></tr></table></figure>

<h4 id="2-4-RPM-check检查"><a href="#2-4-RPM-check检查" class="headerlink" title="2.4 RPM check检查"></a>2.4 RPM check检查</h4><p>​    系统完整性可以通过rpm自带的-Va来校验检查所有的rpm软件包，查看哪些命令是否被替换了：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./rpm -Va &gt; rpm.log</span><br></pre></td></tr></table></figure>

<p>如果一切均校验正常将不会产生任何输出，如果有不一致的地方，就会显示出来，输出格式是8位长字符串，每个字符都用以表示文件与RPM数据库中一种属性的比较结果 ，如果是. (点) 则表示测试通过。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">验证内容中的8个信息的具体内容如下：</span><br><span class="line">		S         文件大小是否改变</span><br><span class="line">		M         文件的类型或文件的权限（rwx）是否被改变</span><br><span class="line">		5         文件MD5校验是否改变（可以看成文件内容是否改变）</span><br><span class="line">		D         设备中，从代码是否改变</span><br><span class="line">		L         文件路径是否改变</span><br><span class="line">		U         文件的属主（所有者）是否改变</span><br><span class="line">		G         文件的属组是否改变</span><br><span class="line">		T         文件的修改时间是否改变</span><br></pre></td></tr></table></figure>

<p>如果命令被替换了，如果还原回来：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">文件提取还原案例：</span><br><span class="line">rpm  -qf /bin/ls  查询ls命令属于哪个软件包</span><br><span class="line">mv  /bin/ls /tmp  先把ls转移到tmp目录下，造成ls命令丢失的假象</span><br><span class="line">rpm2cpio /mnt/cdrom/Packages/coreutils-8.4-19.el6.i686.rpm | cpio -idv ./bin/ls 提取rpm包中ls命令到当前目录的/bin/ls下</span><br><span class="line">cp /root/bin/ls  /bin/ 把ls命令复制到/bin/目录 修复文件丢失</span><br></pre></td></tr></table></figure>

<h4 id="2-5-linux安全检查脚本"><a href="#2-5-linux安全检查脚本" class="headerlink" title="2.5 linux安全检查脚本"></a>2.5 linux安全检查脚本</h4><p>Github项目地址：</p>
<p><a href="https://github.com/grayddq/GScan" target="_blank" rel="noopener">https://github.com/grayddq/GScan</a></p>
<p><a href="https://github.com/ppabc/security_check" target="_blank" rel="noopener">https://github.com/ppabc/security_check</a></p>
<p><a href="https://github.com/T0xst/linux" target="_blank" rel="noopener">https://github.com/T0xst/linux</a></p>
<p><strong>尽信书不如无书，工具只是辅助，别太过于依赖，关键在于你如何解决问题的思路。</strong></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/系统安全/">系统安全</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  

</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2019 John Doe
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank">Hexo &nbsp;&nbsp;</a><a href="https://github.com/maochunguang" target="_blank">Blog</a> by tommy
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >极客到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>

    </div>
    
<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>

<script src="/js/main.js"></script>

    <script>
        $(document).ready(function() {
            var backgroundnum = 1;
            var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>


<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'xxxxx', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->



	<script>
	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "//hm.baidu.com/hm.js?xxxxxx";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();
	</script>



<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(
            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


  </div>
</body>
</html>